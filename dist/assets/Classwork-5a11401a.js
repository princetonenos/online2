import{u as T,a as F,y as N,D as $,r as P,k as m,o as U,c as r,d as n,e as s,F as u,m as g,h as _,n as b,t as i}from"./index-ae66ec3f.js";const B={class:"p-6 max-w-7xl mx-auto"},E={class:"flex space-x-2 mb-6"},j=["onClick"],I={class:"space-y-6"},L={class:"p-4 border-b border-classroom-gray-200"},M={class:"text-xl font-medium text-classroom-gray-900"},V={class:"text-classroom-gray-600"},z={class:"divide-y divide-classroom-gray-100"},G=["onClick"],R={class:"flex items-start justify-between"},W={class:"flex-1"},q={class:"font-medium text-classroom-gray-900 mb-1"},H={class:"text-sm text-classroom-gray-600 mb-2"},J={class:"flex items-center space-x-4 text-xs text-classroom-gray-500"},K={class:"flex items-center space-x-1"},O={key:0,class:"chip chip-primary"},Q={key:1,class:"chip chip-secondary"},X={key:0,class:"p-8 text-center text-classroom-gray-500"},Y={key:0,class:"text-center py-16"},es={__name:"Classwork",setup(Z){const f=T(),v=F(),p=N(),d=$(),c=P("all"),w=[{id:"all",name:"All"},{id:"pending",name:"Pending"},{id:"submitted",name:"Submitted"},{id:"graded",name:"Graded"}],h=m(()=>v.currentUser),k=m(()=>h.value?p.getCoursesForUser(h.value.id):[]),y=m(()=>k.value.filter(o=>d.assignments.some(e=>e.courseId===o.id))),x=o=>{let e=d.assignments.filter(t=>t.courseId===o);switch(c.value){case"pending":e=e.filter(t=>t.submissionStatus!=="submitted");break;case"submitted":e=e.filter(t=>t.submissionStatus==="submitted"&&!t.grade);break;case"graded":e=e.filter(t=>t.grade);break}return e.sort((t,a)=>new Date(t.dueDate)-new Date(a.dueDate))},D=o=>{const e=new Date(o),t=new Date,a=e.getTime()-t.getTime(),l=Math.ceil(a/(1e3*60*60*24));return l===0?"today":l===1?"tomorrow":l<7?`in ${l} days`:`on ${e.toLocaleDateString()}`},C=o=>o>=100?"chip-primary":o>=50?"chip-secondary":"chip-gray",S=o=>{f.push(`/student/classwork/${o.id}`)};U(async()=>{try{await Promise.all([p.loadCourses(),d.loadAssignments()])}catch(o){console.error("Error loading classwork data:",o),A("Error loading assignments")}});const A=o=>{window.showToast&&window.showToast(o)};return(o,e)=>(r(),n("div",B,[e[4]||(e[4]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-medium text-classroom-gray-900 mb-2"},"Classwork"),s("p",{class:"text-classroom-gray-600"},"All your assignments across all classes")],-1)),s("div",E,[(r(),n(u,null,g(w,t=>s("button",{key:t.id,onClick:a=>c.value=t.id,class:b(["px-4 py-2 rounded-classroom transition-colors",c.value===t.id?"bg-classroom-primary text-white":"bg-white text-classroom-gray-700 hover:bg-classroom-gray-50 classroom-shadow"])},i(t.name),11,j)),64))]),s("div",I,[(r(!0),n(u,null,g(y.value,t=>(r(),n("div",{key:t.id,class:"bg-white rounded-classroom classroom-shadow overflow-hidden"},[s("div",L,[s("h2",M,i(t.name),1),s("p",V,i(t.teacherName),1)]),s("div",z,[(r(!0),n(u,null,g(x(t.id),a=>(r(),n("div",{key:a.id,class:"p-4 hover:bg-classroom-gray-50 transition-colors cursor-pointer",onClick:l=>S(a)},[s("div",R,[s("div",W,[s("h3",q,i(a.title),1),s("p",H,i(a.description),1),s("div",J,[s("span",K,[e[0]||(e[0]=s("span",{class:"material-icons text-sm"},"schedule",-1)),s("span",null,"Due "+i(D(a.dueDate)),1)]),s("span",{class:b(["chip",C(a.points)])},i(a.points)+" points ",3),a.submissionStatus==="submitted"?(r(),n("span",O," Submitted ")):(r(),n("span",Q," Pending "))])]),e[1]||(e[1]=s("span",{class:"material-icons text-classroom-gray-400"},"chevron_right",-1))])],8,G))),128))]),x(t.id).length===0?(r(),n("div",X,[e[2]||(e[2]=s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"assignment",-1)),s("p",null,"No "+i(c.value)+" assignments",1)])):_("",!0)]))),128))]),y.value.length===0?(r(),n("div",Y,[...e[3]||(e[3]=[s("div",{class:"w-24 h-24 bg-classroom-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[s("span",{class:"material-icons text-classroom-gray-400 text-4xl"},"assignment")],-1),s("h3",{class:"text-xl font-medium text-classroom-gray-900 mb-2"},"No assignments yet",-1),s("p",{class:"text-classroom-gray-600 mb-6"},"Assignments will appear here when your teachers create them",-1)])])):_("",!0)]))}};export{es as default};
