import{_ as B,q as C,G as D,K as U,M as T,c as d,a as o,b as r,e as s,t as l,h as V,F as n,g as c}from"./index-d2bf20c5.js";const E={class:"space-y-6"},I={class:"flex items-center justify-between"},j={class:"text-classroom-gray-600"},A={key:0,class:"bg-white rounded-classroom classroom-shadow"},F={class:"p-4"},L={class:"space-y-4"},N={class:"flex-1"},Y={class:"font-medium text-classroom-gray-900"},q={class:"text-sm text-classroom-gray-500"},K={class:"text-right"},M={class:"text-lg font-medium text-classroom-gray-900"},R={class:"text-sm text-classroom-gray-500"},z={key:1,class:"bg-white rounded-classroom classroom-shadow overflow-hidden"},H={class:"overflow-x-auto"},J={class:"w-full"},O={class:"bg-classroom-gray-50"},P={class:"px-4 py-3 text-sm text-classroom-gray-900"},Q={class:"text-classroom-gray-900"},W={__name:"Grades",setup(X){const p=C(),i=D(),v=U(),u=T(),x=d(()=>p.params.id),b=d(()=>i.currentUser),m=d(()=>i.isTeacher),y=d(()=>v.getCourseById(x.value)),g=d(()=>u.getAssignmentsByCourse(x.value)),h=d(()=>y.value?y.value.students.map(a=>i.getUserById(a)).filter(Boolean):[]),f=a=>{const e=u.getSubmissionByUser(a,b.value.id);return(e==null?void 0:e.grade)||"-"},w=(a,e)=>{const t=u.getSubmissionByUser(a,e);return(t==null?void 0:t.grade)||"-"},S=a=>new Date(a).toLocaleDateString(),k=()=>{G("Exporting grades to CSV...")},G=a=>{window.showToast&&window.showToast(a)};return(a,e)=>(o(),r("div",E,[s("div",I,[s("div",null,[e[0]||(e[0]=s("h2",{class:"text-2xl font-medium text-classroom-gray-900 mb-2"},"Grades",-1)),s("p",j,l(m.value?"View and manage student grades":"Your grades and feedback"),1)]),m.value?(o(),r("button",{key:0,onClick:k,class:"btn-outline flex items-center space-x-2"},[...e[1]||(e[1]=[s("span",{class:"material-icons text-lg"},"download",-1),s("span",null,"Export CSV",-1)])])):V("",!0)]),m.value?(o(),r("div",z,[e[4]||(e[4]=s("div",{class:"p-4 border-b border-classroom-gray-100"},[s("h3",{class:"font-medium text-classroom-gray-900"},"Gradebook")],-1)),s("div",H,[s("table",J,[s("thead",O,[s("tr",null,[e[3]||(e[3]=s("th",{class:"px-4 py-3 text-left text-sm font-medium text-classroom-gray-900 border-b border-classroom-gray-200"}," Student ",-1)),(o(!0),r(n,null,c(g.value,t=>(o(),r("th",{key:t.id,class:"px-4 py-3 text-center text-sm font-medium text-classroom-gray-900 border-b border-classroom-gray-200"},l(t.title),1))),128))])]),s("tbody",null,[(o(!0),r(n,null,c(h.value,t=>(o(),r("tr",{key:t.id,class:"border-b border-classroom-gray-100 hover:bg-classroom-gray-50 transition-colors"},[s("td",P,l(t.name),1),(o(!0),r(n,null,c(g.value,_=>(o(),r("td",{key:_.id,class:"px-4 py-3 text-center text-sm"},[s("span",Q,l(w(_.id,t.id)),1)]))),128))]))),128))])])])])):(o(),r("div",A,[e[2]||(e[2]=s("div",{class:"p-4 border-b border-classroom-gray-100"},[s("h3",{class:"font-medium text-classroom-gray-900"},"Your Grades")],-1)),s("div",F,[s("div",L,[(o(!0),r(n,null,c(g.value,t=>(o(),r("div",{key:t.id,class:"flex items-center justify-between p-3 border border-classroom-gray-200 rounded-classroom"},[s("div",N,[s("h4",Y,l(t.title),1),s("p",q,"Due "+l(S(t.dueDate)),1)]),s("div",K,[s("div",M,l(f(t.id)),1),s("div",R," / "+l(t.points),1)])]))),128))])])]))]))}},$=B(W,[["__file","/Users/mac/Development/startups/online2/src/views/Grades.vue"]]);export{$ as default};
