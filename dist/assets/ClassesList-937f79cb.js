import{u as D,B as M,a as F,r as p,o as N,c as a,d as r,e as s,F as y,m as v,t as l,n as h,h as b}from"./index-ae66ec3f.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const V={class:"p-6 max-w-7xl mx-auto"},A={class:"flex items-center justify-between mb-6"},O={key:0,class:"space-y-4"},z={key:1,class:"bg-white rounded-classroom classroom-shadow p-12 text-center"},J={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},R={class:"p-4 border-b border-classroom-gray-100"},q={class:"flex items-start justify-between"},G={class:"flex-1"},H={class:"font-medium text-classroom-gray-900 text-lg mb-1"},K={class:"text-sm text-classroom-gray-500 line-clamp-2"},P={class:"flex items-center space-x-1 ml-2"},Q=["onClick"],W={class:"p-4 space-y-3"},X={class:"flex items-center space-x-2 text-sm"},Y={class:"text-classroom-gray-900"},Z={class:"text-classroom-gray-500"},I={class:"flex items-center space-x-2 text-sm"},ss={class:"flex items-center space-x-2 text-sm"},es={class:"text-classroom-gray-500"},ts={class:"flex items-center space-x-2 text-sm"},os={class:"p-4 border-t border-classroom-gray-100"},as={class:"flex items-center justify-between"},rs=["onClick"],ls={class:"flex items-center space-x-2"},ns=["onClick"],is=["onClick"],cs={__name:"ClassesList",setup(ds){const i=D(),c=M(),_=F(),d=p(!1),u=p([]),f=p(_.currentUser),C=async()=>{d.value=!0;try{await c.loadClasses(),u.value=c.getClassesForTeacher(f.value.id)}catch(t){console.error("Error loading classes:",t),n("Error loading classes")}finally{d.value=!1}},w=t=>new Date(t).toLocaleString([],{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=t=>({beginner:"chip-secondary",intermediate:"chip-primary",advanced:"bg-purple-100 text-purple-800"})[t]||"chip-gray",L=t=>({beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"})[t]||t,S=t=>({scheduled:"chip-gray",ongoing:"chip-primary",completed:"chip-secondary"})[t]||"chip-gray",$=t=>({scheduled:"Scheduled",ongoing:"Live",completed:"Completed"})[t]||t,j=t=>{i.push(`/teacher/classes/${t.id}`)},B=async t=>{try{const e=await c.startSession(t.id);n("Session started successfully!"),i.push(`/teacher/classes/${t.id}/live`)}catch(e){console.error("Error starting session:",e),n("Error starting session")}},E=t=>{i.push(`/teacher/classes/${t.id}/live`)},T=t=>{n(`Options for ${t.title}`)};N(()=>{C()});const n=t=>{window.showToast&&window.showToast(t)};return(t,e)=>(a(),r("div",V,[s("div",A,[e[3]||(e[3]=s("div",null,[s("h1",{class:"text-2xl font-medium text-classroom-gray-900"},"My Classes"),s("p",{class:"text-classroom-gray-600"},"Manage your scheduled classes and sessions")],-1)),s("button",{onClick:e[0]||(e[0]=o=>t.$router.push("/teacher/create-class")),class:"btn-primary flex items-center space-x-2"},[...e[2]||(e[2]=[s("span",{class:"material-icons text-lg"},"add",-1),s("span",null,"Create Class",-1)])])]),d.value?(a(),r("div",O,[(a(),r(y,null,v(3,o=>s("div",{key:o,class:"bg-white rounded-classroom classroom-shadow p-6"},[...e[4]||(e[4]=[s("div",{class:"skeleton h-6 w-3/4 mb-3"},null,-1),s("div",{class:"skeleton h-4 w-full mb-2"},null,-1),s("div",{class:"skeleton h-4 w-1/2"},null,-1)])])),64))])):u.value.length===0?(a(),r("div",z,[e[5]||(e[5]=s("div",{class:"w-24 h-24 bg-classroom-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[s("span",{class:"material-icons text-classroom-gray-400 text-4xl"},"school")],-1)),e[6]||(e[6]=s("h3",{class:"text-xl font-medium text-classroom-gray-900 mb-2"},"No classes yet",-1)),e[7]||(e[7]=s("p",{class:"text-classroom-gray-600 mb-6"},"Create your first class to get started with teaching",-1)),s("button",{onClick:e[1]||(e[1]=o=>t.$router.push("/teacher/create-class")),class:"btn-primary"}," Create your first class ")])):(a(),r("div",J,[(a(!0),r(y,null,v(u.value,o=>{var x,g;return a(),r("div",{key:o.id,class:"bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-all duration-200"},[s("div",R,[s("div",q,[s("div",G,[s("h3",H,l(o.title),1),s("p",K,l(o.description),1)]),s("div",P,[s("button",{onClick:m=>T(o),class:"p-1 rounded-full hover:bg-classroom-gray-100 transition-colors","aria-label":"Class options"},[...e[8]||(e[8]=[s("span",{class:"material-icons text-classroom-gray-500 text-lg"},"more_vert",-1)])],8,Q)])])]),s("div",W,[s("div",X,[e[9]||(e[9]=s("span",{class:"material-icons text-classroom-gray-400 text-base"},"schedule",-1)),s("div",null,[s("p",Y,l(w(o.startAt)),1),s("p",Z,l(o.durationMinutes)+" minutes ",1)])]),s("div",I,[e[10]||(e[10]=s("span",{class:"material-icons text-classroom-gray-400 text-base"},"trending_up",-1)),s("span",{class:h(["chip text-xs",k(o.level)])},l(L(o.level)),3)]),s("div",ss,[e[11]||(e[11]=s("span",{class:"material-icons text-classroom-gray-400 text-base"},"attach_file",-1)),s("span",es,l(((x=o.resources)==null?void 0:x.length)||0)+" resource"+l(((g=o.resources)==null?void 0:g.length)!==1?"s":""),1)]),s("div",ts,[e[12]||(e[12]=s("span",{class:"material-icons text-classroom-gray-400 text-base"},"circle",-1)),s("span",{class:h(["chip text-xs",S(o.status)])},l($(o.status)),3)])]),s("div",os,[s("div",as,[s("button",{onClick:m=>j(o),class:"btn-outline text-sm px-3 py-1"}," View Details ",8,rs),s("div",ls,[o.status==="scheduled"?(a(),r("button",{key:0,onClick:m=>B(o),class:"btn-primary text-sm px-3 py-1 flex items-center space-x-1"},[...e[13]||(e[13]=[s("span",{class:"material-icons text-sm"},"play_arrow",-1),s("span",null,"Start",-1)])],8,ns)):b("",!0),o.status==="ongoing"?(a(),r("button",{key:1,onClick:m=>E(o),class:"btn-primary text-sm px-3 py-1 flex items-center space-x-1"},[...e[14]||(e[14]=[s("span",{class:"material-icons text-sm"},"video_call",-1),s("span",null,"Join",-1)])],8,is)):b("",!0)])])])])}),128))]))]))}},ps=U(cs,[["__scopeId","data-v-332f2a52"]]);export{ps as default};
