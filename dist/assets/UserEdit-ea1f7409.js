import{_ as E,u as S,q as _,r as U,B as b,o as C,x as V,a as n,b as i,e,y,m as v,w as T,f as m,v as p,n as d,t as u,h as c,C as q,j as M,k as N}from"./index-e0178975.js";const j={class:"p-6"},B={class:"max-w-2xl mx-auto"},R={class:"flex items-center justify-between mb-6"},A={class:"bg-white rounded-classroom classroom-shadow p-6"},D={key:0,class:"text-red-500 text-xs mt-1"},F={key:0,class:"text-red-500 text-xs mt-1"},O={key:0,class:"text-red-500 text-xs mt-1"},P={class:"flex items-center space-x-2"},z={class:"flex items-center justify-end space-x-4 pt-6 border-t border-classroom-gray-200"},G=["disabled"],J={key:0,class:"material-icons animate-spin"},$={__name:"UserEdit",setup(H){const w=S(),g=_(),l=U(!1),o=b({name:"",email:"",role:"",school:"",status:"active"}),t=b({name:"",email:"",role:""}),h=()=>{let r=!0;return t.name="",t.email="",t.role="",o.name.trim()||(t.name="Name is required",r=!1),o.email?/\S+@\S+\.\S+/.test(o.email)||(t.email="Email is invalid",r=!1):(t.email="Email is required",r=!1),o.role||(t.role="Role is required",r=!1),r},k=async()=>{if(h()){l.value=!0;try{await new Promise(r=>setTimeout(r,1e3)),f(`User ${o.name} updated successfully`),w.push("/admin/users")}catch(r){console.error("Error updating user:",r),f("Error updating user. Please try again.")}finally{l.value=!1}}};C(()=>{g.params.id,setTimeout(()=>{Object.assign(o,{name:"Sarah Johnson",email:"sarah.johnson@school.edu",role:"teacher",school:"Main Campus",status:"active"})},300)});const f=r=>{window.showToast&&window.showToast(r)};return(r,s)=>{const x=V("router-link");return n(),i("div",j,[e("div",B,[e("div",R,[s[6]||(s[6]=e("h1",{class:"text-2xl font-medium text-classroom-gray-900"},"Edit User",-1)),y(x,{to:"/admin/users",class:"btn-outline flex items-center space-x-2"},{default:v(()=>[...s[5]||(s[5]=[e("span",{class:"material-icons"},"arrow_back",-1),e("span",null,"Back to Users",-1)])]),_:1})]),e("div",A,[e("form",{onSubmit:T(k,["prevent"]),class:"space-y-6"},[e("div",null,[s[7]||(s[7]=e("label",{for:"name",class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Full Name ",-1)),m(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),type:"text",required:"",placeholder:"Enter full name",class:d(["w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors",{"border-red-500":t.name}])},null,2),[[p,o.name]]),t.name?(n(),i("p",D,u(t.name),1)):c("",!0)]),e("div",null,[s[8]||(s[8]=e("label",{for:"email",class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Email Address ",-1)),m(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=a=>o.email=a),type:"email",required:"",placeholder:"Enter email address",class:d(["w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors",{"border-red-500":t.email}])},null,2),[[p,o.email]]),t.email?(n(),i("p",F,u(t.email),1)):c("",!0)]),e("div",null,[s[10]||(s[10]=e("label",{for:"role",class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Role ",-1)),m(e("select",{id:"role","onUpdate:modelValue":s[2]||(s[2]=a=>o.role=a),required:"",class:d(["w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors",{"border-red-500":t.role}])},[...s[9]||(s[9]=[e("option",{value:""},"Select Role",-1),e("option",{value:"student"},"Student",-1),e("option",{value:"teacher"},"Teacher",-1),e("option",{value:"admin"},"Admin",-1)])],2),[[q,o.role]]),t.role?(n(),i("p",O,u(t.role),1)):c("",!0)]),e("div",null,[s[11]||(s[11]=e("label",{for:"school",class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," School ",-1)),m(e("input",{id:"school","onUpdate:modelValue":s[3]||(s[3]=a=>o.school=a),type:"text",placeholder:"Enter school name",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},null,512),[[p,o.school]])]),e("div",null,[e("label",P,[m(e("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>o.status=a),type:"checkbox","true-value":"active","false-value":"inactive",class:"rounded border-classroom-gray-300 text-classroom-primary focus:ring-classroom-primary"},null,512),[[M,o.status]]),s[12]||(s[12]=e("span",{class:"text-sm text-classroom-gray-700"},"Active User",-1))])]),e("div",z,[y(x,{to:"/admin/users",class:"btn-outline"},{default:v(()=>[...s[13]||(s[13]=[N(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:l.value,class:d(["btn-primary flex items-center space-x-2",{"opacity-50 cursor-not-allowed":l.value}])},[l.value?(n(),i("span",J,"refresh")):c("",!0),e("span",null,u(l.value?"Saving...":"Save Changes"),1)],10,G)])],32)])])])}}},K=E($,[["__file","/home/buddy/GCO/src/views/admin/UserEdit.vue"]]);export{K as default};
