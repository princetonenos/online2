import{_ as I,u as L,M as J,r as B,o as U,c as y,a as n,b as l,e as t,F as f,g as h,D as v,h as b,t as i,w,n as M}from"./index-0bf52f7e.js";const E={class:"p-6 max-w-7xl mx-auto"},O={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},P=["onClick"],F={class:"font-medium text-classroom-gray-900 mb-2 group-hover:text-classroom-primary transition-colors"},V={class:"text-sm text-classroom-gray-600 mb-3"},W={class:"space-y-2 text-sm text-classroom-gray-500"},z={class:"flex items-center space-x-2"},G={class:"flex items-center space-x-2"},R={class:"font-mono"},Y={class:"flex items-center space-x-2"},q={class:"flex space-x-2 mt-4 pt-4 border-t border-classroom-gray-100"},H=["onClick"],K=["onClick"],Q={key:0,class:"text-center py-16"},X={key:1,class:"mt-12"},Z={class:"bg-white rounded-classroom classroom-shadow overflow-hidden"},ss={class:"divide-y divide-classroom-gray-100"},ts=["onClick"],es={class:"flex items-start justify-between"},os={class:"flex-1"},as={class:"font-medium text-classroom-gray-900 mb-1"},rs={class:"text-sm text-classroom-gray-600 mb-2"},ns={class:"flex items-center space-x-4 text-xs text-classroom-gray-500"},ls={class:"flex items-center space-x-1"},is={key:0,class:"chip chip-primary"},cs={key:1,class:"chip chip-secondary"},ds={__name:"ClassList",setup(ms){const c=L();J();const u=JSON.parse(localStorage.getItem("mock:currentUser")||"null"),m=B([]);function p(){const s=JSON.parse(localStorage.getItem("mock:classes")||"[]").filter(e=>e.students&&e.students.includes(u==null?void 0:u.id));m.value=s}U(()=>{p(),window.addEventListener("storage",p),window.addEventListener("classJoined",p)});const x=y(()=>m.value.map(o=>{var s;return{id:o.id,name:o.title,code:o.code||"N/A",teacherName:k(o.teacherId),enrolledStudents:((s=o.students)==null?void 0:s.length)||0,schedule:_(o),...o}}));function k(o){const e=JSON.parse(localStorage.getItem("mock:users")||"[]").find(a=>a.id===o);return e?e.name:"Unknown Teacher"}function _(o){if(!o.startAt)return"Schedule TBD";const s=new Date(o.startAt),e=s.toLocaleDateString("en-US",{weekday:"short"}),a=s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),r=o.duration||60;return`${e}, ${a} (${r} min)`}const g=y(()=>{const o=JSON.parse(localStorage.getItem("mock:assignments")||"[]"),s=m.value.map(a=>a.id);return o.filter(a=>{if(!s.includes(a.classId))return!1;const r=new Date(a.dueAt||a.dueDate),d=new Date;return r>d&&r<new Date(d.getTime()+7*24*60*60*1e3)}).sort((a,r)=>new Date(a.dueAt||a.dueDate)-new Date(r.dueAt||r.dueDate)).slice(0,5)}),C=o=>{const s=m.value.find(e=>e.id===o);return(s==null?void 0:s.title)||(s==null?void 0:s.name)||"Unknown Course"},D=o=>{const s=o.dueAt||o.dueDate;if(!s)return"No due date";const e=new Date(s),a=new Date,r=e.getTime()-a.getTime(),d=Math.ceil(r/(1e3*60*60*24));return d===0?"Today":d===1?"Tomorrow":d<7?`In ${d} days`:e.toLocaleDateString()},S=o=>o>=100?"chip-primary":o>=50?"chip-secondary":"chip-gray",N=o=>{c.push(`/student/classes/${o}`)},T=o=>{c.push(`/course/${o}/stream`)},$=o=>{c.push(`/course/${o}/classwork`)},A=o=>{c.push(`/student/classwork/${o.id}`)},j=()=>{c.back()};return(o,s)=>(n(),l("div",E,[t("div",{class:"mb-8"},[t("div",{class:"flex items-center mb-4"},[t("button",{onClick:j,class:"flex items-center space-x-2 text-classroom-gray-600 hover:text-classroom-primary transition-colors mb-2"},[...s[2]||(s[2]=[t("span",{class:"material-icons"},"arrow_back",-1),t("span",null,"Back",-1)])])]),s[3]||(s[3]=t("h1",{class:"text-3xl font-medium text-classroom-gray-900 mb-2"},"Your Classes",-1)),s[4]||(s[4]=t("p",{class:"text-classroom-gray-600"},"All the classes you're enrolled in",-1))]),t("div",O,[(n(!0),l(f,null,h(x.value,e=>(n(),l("div",{key:e.id,class:"bg-white rounded-classroom classroom-shadow p-6 hover:shadow-classroom transition-shadow cursor-pointer group",onClick:a=>N(e.id)},[s[10]||(s[10]=t("div",{class:"w-full h-40 bg-gradient-to-br from-classroom-primary to-classroom-secondary rounded-classroom mb-4 flex items-center justify-center"},[t("span",{class:"material-icons text-white text-5xl"},"school")],-1)),t("h3",F,i(e.name),1),t("p",V,i(e.teacherName),1),t("div",W,[t("div",z,[s[5]||(s[5]=t("span",{class:"material-icons text-xs"},"person",-1)),t("span",null,i(e.enrolledStudents)+" students",1)]),t("div",G,[s[6]||(s[6]=t("span",{class:"material-icons text-xs"},"code",-1)),t("span",R,i(e.code),1)]),t("div",Y,[s[7]||(s[7]=t("span",{class:"material-icons text-xs"},"schedule",-1)),t("span",null,i(e.schedule||"Mon, Wed, Fri"),1)])]),t("div",q,[t("button",{onClick:w(a=>T(e.id),["stop"]),class:"flex-1 text-xs bg-classroom-primary bg-opacity-10 text-classroom-primary hover:bg-opacity-20 py-2 px-3 rounded-classroom transition-colors flex items-center justify-center space-x-1"},[...s[8]||(s[8]=[t("span",{class:"material-icons text-sm"},"stream",-1),t("span",null,"Stream",-1)])],8,H),t("button",{onClick:w(a=>$(e.id),["stop"]),class:"flex-1 text-xs bg-classroom-secondary bg-opacity-10 text-classroom-secondary hover:bg-opacity-20 py-2 px-3 rounded-classroom transition-colors flex items-center justify-center space-x-1"},[...s[9]||(s[9]=[t("span",{class:"material-icons text-sm"},"assignment",-1),t("span",null,"Work",-1)])],8,K)])],8,P))),128)),t("div",{class:"bg-white rounded-classroom classroom-shadow p-6 border-2 border-dashed border-classroom-gray-200 hover:border-classroom-primary transition-colors cursor-pointer flex flex-col items-center justify-center text-center",onClick:s[0]||(s[0]=e=>v(c).push("/student/join"))},[...s[11]||(s[11]=[t("div",{class:"w-16 h-16 bg-classroom-primary bg-opacity-10 rounded-full flex items-center justify-center mb-4"},[t("span",{class:"material-icons text-classroom-primary text-2xl"},"group_add")],-1),t("h3",{class:"font-medium text-classroom-gray-900 mb-2"},"Join a Class",-1),t("p",{class:"text-sm text-classroom-gray-600"},"Enter a class code to join a new class",-1)])])]),x.value.length===0?(n(),l("div",Q,[s[12]||(s[12]=t("div",{class:"w-24 h-24 bg-classroom-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[t("span",{class:"material-icons text-classroom-gray-400 text-4xl"},"school")],-1)),s[13]||(s[13]=t("h3",{class:"text-xl font-medium text-classroom-gray-900 mb-2"},"No classes yet",-1)),s[14]||(s[14]=t("p",{class:"text-classroom-gray-600 mb-6"},"Get started by joining your first class",-1)),t("button",{onClick:s[1]||(s[1]=e=>v(c).push("/student/join")),class:"btn-primary"}," Join your first class ")])):b("",!0),g.value.length>0?(n(),l("div",X,[s[17]||(s[17]=t("h2",{class:"text-2xl font-medium text-classroom-gray-900 mb-6"},"Upcoming Assignments",-1)),t("div",Z,[t("div",ss,[(n(!0),l(f,null,h(g.value,e=>(n(),l("div",{key:e.id,class:"p-4 hover:bg-classroom-gray-50 transition-colors cursor-pointer",onClick:a=>A(e)},[t("div",es,[t("div",os,[t("h3",as,i(e.title),1),t("p",rs,i(C(e.courseId)),1),t("div",ns,[t("span",ls,[s[15]||(s[15]=t("span",{class:"material-icons text-sm"},"schedule",-1)),t("span",null,i(D(e)),1)]),t("span",{class:M(["chip",S(e.maxPoints||e.points||100)])},i(e.maxPoints||e.points||100)+" points ",3),e.submissionStatus==="submitted"?(n(),l("span",is," Submitted ")):(n(),l("span",cs," Pending "))])]),s[16]||(s[16]=t("span",{class:"material-icons text-classroom-gray-400"},"chevron_right",-1))])],8,ts))),128))])])])):b("",!0)]))}},ps=I(ds,[["__file","/Users/mac/Development/startups/online2/src/views/student/ClassList.vue"]]);export{ps as default};
