import{p as C,a as D,y as G,D as U,k as d,c as o,d as r,e as s,t as l,h as T,F as n,m as c}from"./index-ae66ec3f.js";const V={class:"space-y-6"},E={class:"flex items-center justify-between"},I={class:"text-classroom-gray-600"},j={key:0,class:"bg-white rounded-classroom classroom-shadow"},A={class:"p-4"},F={class:"space-y-4"},L={class:"flex-1"},N={class:"font-medium text-classroom-gray-900"},Y={class:"text-sm text-classroom-gray-500"},R={class:"text-right"},q={class:"text-lg font-medium text-classroom-gray-900"},z={class:"text-sm text-classroom-gray-500"},H={key:1,class:"bg-white rounded-classroom classroom-shadow overflow-hidden"},J={class:"overflow-x-auto"},K={class:"w-full"},M={class:"bg-classroom-gray-50"},O={class:"px-4 py-3 text-sm text-classroom-gray-900"},P={class:"text-classroom-gray-900"},X={__name:"Grades",setup(Q){const _=C(),i=D(),b=G(),u=U(),g=d(()=>_.params.id),v=d(()=>i.currentUser),m=d(()=>i.isTeacher),x=d(()=>b.getCourseById(g.value)),y=d(()=>u.getAssignmentsByCourse(g.value)),h=d(()=>x.value?x.value.students.map(a=>i.getUserById(a)).filter(Boolean):[]),f=a=>{const e=u.getSubmissionByUser(a,v.value.id);return(e==null?void 0:e.grade)||"-"},w=(a,e)=>{const t=u.getSubmissionByUser(a,e);return(t==null?void 0:t.grade)||"-"},S=a=>new Date(a).toLocaleDateString(),k=()=>{B("Exporting grades to CSV...")},B=a=>{window.showToast&&window.showToast(a)};return(a,e)=>(o(),r("div",V,[s("div",E,[s("div",null,[e[0]||(e[0]=s("h2",{class:"text-2xl font-medium text-classroom-gray-900 mb-2"},"Grades",-1)),s("p",I,l(m.value?"View and manage student grades":"Your grades and feedback"),1)]),m.value?(o(),r("button",{key:0,onClick:k,class:"btn-outline flex items-center space-x-2"},[...e[1]||(e[1]=[s("span",{class:"material-icons text-lg"},"download",-1),s("span",null,"Export CSV",-1)])])):T("",!0)]),m.value?(o(),r("div",H,[e[4]||(e[4]=s("div",{class:"p-4 border-b border-classroom-gray-100"},[s("h3",{class:"font-medium text-classroom-gray-900"},"Gradebook")],-1)),s("div",J,[s("table",K,[s("thead",M,[s("tr",null,[e[3]||(e[3]=s("th",{class:"px-4 py-3 text-left text-sm font-medium text-classroom-gray-900 border-b border-classroom-gray-200"}," Student ",-1)),(o(!0),r(n,null,c(y.value,t=>(o(),r("th",{key:t.id,class:"px-4 py-3 text-center text-sm font-medium text-classroom-gray-900 border-b border-classroom-gray-200"},l(t.title),1))),128))])]),s("tbody",null,[(o(!0),r(n,null,c(h.value,t=>(o(),r("tr",{key:t.id,class:"border-b border-classroom-gray-100 hover:bg-classroom-gray-50 transition-colors"},[s("td",O,l(t.name),1),(o(!0),r(n,null,c(y.value,p=>(o(),r("td",{key:p.id,class:"px-4 py-3 text-center text-sm"},[s("span",P,l(w(p.id,t.id)),1)]))),128))]))),128))])])])])):(o(),r("div",j,[e[2]||(e[2]=s("div",{class:"p-4 border-b border-classroom-gray-100"},[s("h3",{class:"font-medium text-classroom-gray-900"},"Your Grades")],-1)),s("div",A,[s("div",F,[(o(!0),r(n,null,c(y.value,t=>(o(),r("div",{key:t.id,class:"flex items-center justify-between p-3 border border-classroom-gray-200 rounded-classroom"},[s("div",L,[s("h4",N,l(t.title),1),s("p",Y,"Due "+l(S(t.dueDate)),1)]),s("div",R,[s("div",q,l(f(t.id)),1),s("div",z," / "+l(t.points),1)])]))),128))])])]))]))}};export{X as default};
