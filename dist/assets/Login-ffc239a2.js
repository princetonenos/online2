import{u as k,a as S,r as C,b as g,o as U,c as m,d,e,f as M,w as P,n as i,g as b,v as f,t as y,h as x,i as T,j as V}from"./index-ae66ec3f.js";const $={class:"min-h-screen flex items-center justify-center p-4"},j={class:"max-w-md w-full"},E={class:"bg-white rounded-classroom classroom-shadow-lg p-8"},N={class:"grid grid-cols-3 gap-3"},A={key:0,class:"text-red-500 text-xs mt-1"},D={key:0,class:"text-red-500 text-xs mt-1"},I={class:"flex items-center justify-between"},q={class:"flex items-center space-x-2"},B=["disabled"],L={key:0,class:"material-icons animate-spin"},z={class:"border-t border-classroom-gray-200 pt-6"},F={class:"grid grid-cols-3 gap-2 text-xs"},R={__name:"Login",setup(J){const l=k(),c=S(),n=C(!1),o=g({role:"student",email:"",password:"",rememberMe:!1}),t=g({email:"",password:"",role:""}),w={student:{email:"alex.rodriguez@student.edu",password:"student123",role:"student"},teacher:{email:"sarah.johnson@school.edu",password:"teacher123",role:"teacher"},admin:{email:"admin@school.edu",password:"admin123",role:"admin"}},v=()=>{let r=!0;return t.email="",t.password="",t.role="",o.email?/\S+@\S+\.\S+/.test(o.email)||(t.email="Email is invalid",r=!1):(t.email="Email is required",r=!1),o.password?o.password.length<6&&(t.password="Password must be at least 6 characters",r=!1):(t.password="Password is required",r=!1),o.role||(t.role="Please select your role",r=!1),r},h=async()=>{if(v()){n.value=!0;try{await new Promise(s=>setTimeout(s,1e3));const r=c.users.find(s=>s.email===o.email&&s.role===o.role);if(!r){p("Invalid credentials. Please check your email and role.");return}switch(c.setCurrentUser(r),o.rememberMe&&localStorage.setItem("mock:currentUser",JSON.stringify(r)),p(`Welcome back, ${r.name}!`),r.role){case"admin":l.push("/admin");break;case"teacher":l.push("/teacher");break;case"student":default:l.push("/student");break}}catch(r){console.error("Login error:",r),p("An error occurred during login. Please try again.")}finally{n.value=!1}}},u=r=>{const s=w[r];o.role=s.role,o.email=s.email,o.password=s.password},p=r=>{window.showToast?window.showToast(r):alert(r)};return U(()=>{const r=localStorage.getItem("mock:currentUser");if(r){const s=JSON.parse(r);switch(c.setCurrentUser(s),s.role){case"admin":l.push("/admin");break;case"teacher":l.push("/teacher");break;case"student":default:l.push("/student");break}}}),(r,s)=>(m(),d("div",$,[e("div",j,[s[18]||(s[18]=M('<div class="text-center mb-8"><div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg"><span class="material-icons text-classroom-primary text-4xl">school</span></div><h1 class="text-3xl font-bold text-white mb-2">Classroom Pro</h1><p class="text-white text-opacity-90">Sign in to your account</p></div>',1)),e("div",E,[e("form",{onSubmit:P(h,["prevent"]),class:"space-y-6"},[e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-3"},"I am a:",-1)),e("div",N,[e("button",{type:"button",onClick:s[0]||(s[0]=a=>o.role="student"),class:i(["p-4 border-2 rounded-classroom text-center transition-all duration-200",o.role==="student"?"border-classroom-primary bg-classroom-primary bg-opacity-5 text-classroom-primary":"border-classroom-gray-200 hover:border-classroom-gray-300 text-classroom-gray-700"])},[...s[9]||(s[9]=[e("span",{class:"material-icons text-2xl mb-2 block"},"school",-1),e("span",{class:"text-sm font-medium"},"Student",-1)])],2),e("button",{type:"button",onClick:s[1]||(s[1]=a=>o.role="teacher"),class:i(["p-4 border-2 rounded-classroom text-center transition-all duration-200",o.role==="teacher"?"border-classroom-primary bg-classroom-primary bg-opacity-5 text-classroom-primary":"border-classroom-gray-200 hover:border-classroom-gray-300 text-classroom-gray-700"])},[...s[10]||(s[10]=[e("span",{class:"material-icons text-2xl mb-2 block"},"person",-1),e("span",{class:"text-sm font-medium"},"Teacher",-1)])],2),e("button",{type:"button",onClick:s[2]||(s[2]=a=>o.role="admin"),class:i(["p-4 border-2 rounded-classroom text-center transition-all duration-200",o.role==="admin"?"border-classroom-primary bg-classroom-primary bg-opacity-5 text-classroom-primary":"border-classroom-gray-200 hover:border-classroom-gray-300 text-classroom-gray-700"])},[...s[11]||(s[11]=[e("span",{class:"material-icons text-2xl mb-2 block"},"admin_panel_settings",-1),e("span",{class:"text-sm font-medium"},"Admin",-1)])],2)])]),e("div",null,[s[13]||(s[13]=e("label",{for:"email",class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Email Address ",-1)),b(e("input",{id:"email","onUpdate:modelValue":s[3]||(s[3]=a=>o.email=a),type:"email",required:"",placeholder:"Enter your email",class:i(["w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors focus-classroom",{"border-red-500":t.email}])},null,2),[[f,o.email]]),t.email?(m(),d("p",A,y(t.email),1)):x("",!0)]),e("div",null,[s[14]||(s[14]=e("label",{for:"password",class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Password ",-1)),b(e("input",{id:"password","onUpdate:modelValue":s[4]||(s[4]=a=>o.password=a),type:"password",required:"",placeholder:"Enter your password",class:i(["w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors focus-classroom",{"border-red-500":t.password}])},null,2),[[f,o.password]]),t.password?(m(),d("p",D,y(t.password),1)):x("",!0)]),e("div",I,[e("label",q,[b(e("input",{"onUpdate:modelValue":s[5]||(s[5]=a=>o.rememberMe=a),type:"checkbox",class:"rounded border-classroom-gray-300 text-classroom-primary focus:ring-classroom-primary focus-classroom"},null,512),[[T,o.rememberMe]]),s[15]||(s[15]=e("span",{class:"text-sm text-classroom-gray-700"},"Remember me",-1))]),s[16]||(s[16]=e("button",{type:"button",class:"text-sm text-classroom-primary hover:text-classroom-primary-dark transition-colors"}," Forgot password? ",-1))]),e("button",{type:"submit",disabled:n.value,class:i(["w-full bg-classroom-primary hover:bg-classroom-primary-dark text-white py-3 px-4 rounded-classroom transition-colors font-medium focus-classroom flex items-center justify-center space-x-2",{"opacity-50 cursor-not-allowed":n.value}])},[n.value?(m(),d("span",L,"refresh")):x("",!0),e("span",null,y(n.value?"Signing in...":"Sign In"),1)],10,B),e("div",z,[s[17]||(s[17]=e("p",{class:"text-sm text-classroom-gray-600 text-center mb-4"},"Demo Accounts:",-1)),e("div",F,[e("button",{type:"button",onClick:s[6]||(s[6]=a=>u("student")),class:"p-2 bg-classroom-gray-100 hover:bg-classroom-gray-200 rounded-classroom transition-colors text-classroom-gray-700"}," Student "),e("button",{type:"button",onClick:s[7]||(s[7]=a=>u("teacher")),class:"p-2 bg-classroom-gray-100 hover:bg-classroom-gray-200 rounded-classroom transition-colors text-classroom-gray-700"}," Teacher "),e("button",{type:"button",onClick:s[8]||(s[8]=a=>u("admin")),class:"p-2 bg-classroom-gray-100 hover:bg-classroom-gray-200 rounded-classroom transition-colors text-classroom-gray-700"}," Admin ")])])],32)]),s[19]||(s[19]=e("div",{class:"text-center mt-6"},[e("p",{class:"text-white text-opacity-80 text-sm"},[V(" Don't have an account? "),e("button",{class:"text-white font-medium hover:underline transition-colors"}," Contact administrator ")])],-1))])]))}};export{R as default};
