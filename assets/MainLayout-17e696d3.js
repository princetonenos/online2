import{u as I,a as H,r as $,k as u,o as B,l as E,c as l,d as c,e,g as j,v as z,h as A,t as d,F as b,m as w,n as g,p as q,q as C,s as v,x as U,j as T}from"./index-ae66ec3f.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const G={class:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-classroom-gray-200 h-16"},O={class:"flex items-center justify-between h-full px-4"},Q={class:"flex-1 max-w-2xl mx-8"},Y={class:"relative"},J={class:"flex items-center space-x-2"},K={class:"p-2 rounded-full hover:bg-classroom-gray-100 transition-colors relative focus-classroom","aria-label":"Notifications"},W={key:0,class:"absolute top-1 right-1 w-2 h-2 bg-classroom-secondary rounded-full"},X={class:"relative"},Z=["src","alt"],ee={key:0,class:"absolute right-0 top-full mt-2 w-64 bg-white rounded-classroom shadow-classroom-lg border border-classroom-gray-200 py-2 z-50"},se={class:"px-4 py-3 border-b border-classroom-gray-100"},te={class:"font-medium text-classroom-gray-900"},ae={class:"text-sm text-classroom-gray-500"},oe={class:"px-4 py-2 border-b border-classroom-gray-100"},re={class:"space-y-1"},ne=["onClick"],le=["src","alt"],ce={__name:"AppHeader",setup(N){const _=I(),o=H(),m=$(""),r=$(!1),p=$(3),i=u(()=>o.currentUser),x=u(()=>o.users),f=()=>{r.value=!r.value},S=()=>{window.dispatchEvent(new CustomEvent("toggle-drawer"))},k=s=>{var t;o.switchRole(s),y(`Switched to ${(t=o.getUserById(s))==null?void 0:t.name}`),r.value=!1},a=()=>{o.setCurrentUser(null),localStorage.removeItem("currentUser"),y("You have been logged out"),r.value=!1,_.push("/")},P=()=>{console.log("Search query:",m.value)},h=s=>{s.target.closest(".relative")||(r.value=!1)};B(()=>{document.addEventListener("click",h)}),E(()=>{document.removeEventListener("click",h)});const y=s=>{window.showToast&&window.showToast(s)};return(s,t)=>{var L,D,M,V;return l(),c("header",G,[e("div",O,[e("div",{class:"flex items-center space-x-4"},[e("button",{onClick:S,class:"md:hidden p-2 rounded-full hover:bg-classroom-gray-100 transition-colors focus-classroom","aria-label":"Toggle navigation menu"},[...t[1]||(t[1]=[e("span",{class:"material-icons text-classroom-gray-600"},"menu",-1)])]),t[2]||(t[2]=e("div",{class:"flex items-center space-x-2"},[e("div",{class:"w-8 h-8 bg-classroom-primary rounded-classroom flex items-center justify-center"},[e("span",{class:"material-icons text-white text-sm"},"school")]),e("span",{class:"text-xl font-medium text-classroom-gray-900 hidden sm:block"}," Classroom ")],-1))]),e("div",Q,[e("div",Y,[j(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>m.value=n),placeholder:"Search courses and content...",class:"w-full pl-10 pr-4 py-2 bg-classroom-gray-100 border border-transparent rounded-classroom focus:bg-white focus:border-classroom-primary focus:outline-none transition-colors",onInput:P},null,544),[[z,m.value]]),t[3]||(t[3]=e("span",{class:"material-icons absolute left-3 top-1/2 transform -translate-y-1/2 text-classroom-gray-500 text-lg"}," search ",-1))])]),e("div",J,[e("button",K,[t[4]||(t[4]=e("span",{class:"material-icons text-classroom-gray-600"},"notifications",-1)),p.value?(l(),c("span",W)):A("",!0)]),t[9]||(t[9]=e("button",{class:"p-2 rounded-full hover:bg-classroom-gray-100 transition-colors focus-classroom","aria-label":"Help"},[e("span",{class:"material-icons text-classroom-gray-600"},"help_outline")],-1)),e("div",X,[e("button",{onClick:f,class:"flex items-center space-x-2 p-1 rounded-full hover:bg-classroom-gray-100 transition-colors focus-classroom","aria-label":"User menu"},[e("img",{src:(L=i.value)==null?void 0:L.avatar,alt:(D=i.value)==null?void 0:D.name,class:"w-8 h-8 rounded-full"},null,8,Z)]),r.value?(l(),c("div",ee,[e("div",se,[e("p",te,d((M=i.value)==null?void 0:M.name),1),e("p",ae,d((V=i.value)==null?void 0:V.email),1)]),e("div",oe,[t[5]||(t[5]=e("p",{class:"text-xs font-medium text-classroom-gray-500 uppercase mb-2"},"Switch Role",-1)),e("div",re,[(l(!0),c(b,null,w(x.value,n=>{var R;return l(),c("button",{key:n.id,onClick:_e=>k(n.id),class:g(["w-full text-left px-2 py-1 rounded hover:bg-classroom-gray-100 text-sm flex items-center space-x-2",{"bg-classroom-primary bg-opacity-10":n.id===((R=i.value)==null?void 0:R.id)}])},[e("img",{src:n.avatar,alt:n.name,class:"w-6 h-6 rounded-full"},null,8,le),e("span",null,d(n.name),1),e("span",{class:g(["chip text-xs",n.role==="teacher"?"chip-primary":"chip-secondary"])},d(n.role),3)],10,ne)}),128))])]),e("div",{class:"py-1"},[t[7]||(t[7]=e("button",{class:"w-full text-left px-4 py-2 hover:bg-classroom-gray-100 text-sm flex items-center space-x-2"},[e("span",{class:"material-icons text-classroom-gray-600 text-lg"},"settings"),e("span",null,"Settings")],-1)),t[8]||(t[8]=e("button",{class:"w-full text-left px-4 py-2 hover:bg-classroom-gray-100 text-sm flex items-center space-x-2"},[e("span",{class:"material-icons text-classroom-gray-600 text-lg"},"help"),e("span",null,"Help & Support")],-1)),e("button",{onClick:a,class:"w-full text-left px-4 py-2 hover:bg-classroom-gray-100 text-sm flex items-center space-x-2 text-classroom-gray-500"},[...t[6]||(t[6]=[e("span",{class:"material-icons text-classroom-gray-600 text-lg"},"logout",-1),e("span",null,"Sign out",-1)])])])])):A("",!0)])])])])}}},ie={class:"bg-white border-b border-classroom-gray-200"},de={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},me={class:"flex justify-between h-16"},ue={class:"flex items-center space-x-4"},pe={class:"text-xl font-medium text-classroom-gray-900"},he={class:"flex items-center space-x-1"},ge={__name:"PortalNavigation",setup(N){q();const _=H(),o=u(()=>_.currentUser),m=u(()=>{var a;return((a=o.value)==null?void 0:a.role)==="admin"}),r=u(()=>{var a;return((a=o.value)==null?void 0:a.role)==="teacher"}),p=u(()=>{var a;return((a=o.value)==null?void 0:a.role)==="student"}),i=u(()=>m.value?"Admin Portal":r.value?"Teacher Portal":p.value?"Student Portal":"Classroom"),x=u(()=>m.value?"chip-primary":r.value?"chip-secondary":(p.value,"chip-gray")),f=[{name:"Dashboard",to:{name:"AdminDashboard"},path:"/admin/dashboard"},{name:"Calendar",to:{name:"CalendarView"},path:"/calendar"},{name:"Profile",to:{name:"ProfileView"},path:"/profile"},{name:"Schools",to:{name:"AdminSchools"},path:"/admin/schools"},{name:"Users",to:{name:"AdminUsers"},path:"/admin/users"},{name:"Reports",to:{name:"AdminReports"},path:"/admin/reports"},{name:"Settings",to:{name:"Settings"},path:"/settings"}],S=[{name:"Dashboard",to:{name:"TeacherDashboard"},path:"/teacher/dashboard"},{name:"Calendar",to:{name:"TeacherCalendar"},path:"/teacher/calendar"},{name:"Profile",to:{name:"ProfileView"},path:"/profile"},{name:"My Classes",to:{name:"TeacherClasses"},path:"/teacher/classes"},{name:"Assignments",to:{name:"TeacherAssignmentList"},path:"/teacher/assignments"},{name:"Reports",to:{name:"TeacherReports"},path:"/teacher/reports"},{name:"Settings",to:{name:"Settings"},path:"/settings"}],k=[{name:"Dashboard",to:{name:"StudentDashboard"},path:"/student/dashboard"},{name:"Calendar",to:{name:"StudentCalendar"},path:"/student/calendar"},{name:"Profile",to:{name:"ProfileView"},path:"/profile"},{name:"My Classes",to:{name:"StudentClasses"},path:"/student/classes"},{name:"Assignments",to:{name:"StudentClasswork"},path:"/student/classwork"},{name:"Grades",to:{name:"StudentGrades"},path:"/student/grades"}];return(a,P)=>{var y;const h=C("router-link");return l(),c("nav",ie,[e("div",de,[e("div",me,[e("div",ue,[e("h1",pe,d(i.value),1),e("span",{class:g(["chip text-sm",x.value])},d((y=o.value)==null?void 0:y.role),3)]),e("div",he,[m.value?(l(),c(b,{key:0},w(f,s=>v(h,{key:s.name,to:s.to,class:g(["px-3 py-2 rounded-classroom text-sm font-medium transition-colors focus-classroom",{"bg-classroom-primary text-white":a.$route.path.includes(s.path),"text-classroom-gray-700 hover:bg-classroom-gray-100":!a.$route.path.includes(s.path)}]),"data-testid":`nav-${s.name.toLowerCase()}`},{default:U(()=>[T(d(s.name),1)]),_:2},1032,["to","class","data-testid"])),64)):r.value?(l(),c(b,{key:1},w(S,s=>v(h,{key:s.name,to:s.to,class:g(["px-3 py-2 rounded-classroom text-sm font-medium transition-colors focus-classroom",{"bg-classroom-primary text-white":a.$route.path.includes(s.path),"text-classroom-gray-700 hover:bg-classroom-gray-100":!a.$route.path.includes(s.path)}]),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`},{default:U(()=>[T(d(s.name),1)]),_:2},1032,["to","class","data-testid"])),64)):p.value?(l(),c(b,{key:2},w(k,s=>v(h,{key:s.name,to:s.to,class:g(["px-3 py-2 rounded-classroom text-sm font-medium transition-colors focus-classroom",{"bg-classroom-primary text-white":a.$route.path.includes(s.path),"text-classroom-gray-700 hover:bg-classroom-gray-100":!a.$route.path.includes(s.path)}]),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`},{default:U(()=>[T(d(s.name),1)]),_:2},1032,["to","class","data-testid"])),64)):A("",!0)])])])])}}};const ve={name:"MainLayout",components:{AppHeader:ce,PortalNavigation:ge}},xe={class:"main-layout"},fe={class:"main-content","data-testid":"main-content"};function ye(N,_,o,m,r,p){const i=C("AppHeader"),x=C("PortalNavigation"),f=C("router-view");return l(),c("div",xe,[v(i),v(x),e("main",fe,[v(f)])])}const Ce=F(ve,[["render",ye],["__scopeId","data-v-67ebe315"]]);export{Ce as default};
