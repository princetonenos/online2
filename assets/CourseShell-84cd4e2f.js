import{p as N,u as V,y as B,D as P,r as E,k as y,o as F,H as I,q as b,c as l,d as i,f as w,e as s,t as r,j as v,A as z,F as f,m as _,s as k,h as L,x as M,n as C}from"./index-ae66ec3f.js";const R={key:0,class:"p-6"},q={key:1,class:"min-h-screen bg-classroom-gray-50"},G={class:"relative h-full flex items-center px-6"},H={class:"text-white"},U={class:"text-2xl font-medium mb-1"},J={class:"text-white text-opacity-90"},K={class:"ml-auto flex items-center space-x-3"},O={class:"bg-white border-b border-classroom-gray-200"},Q={class:"px-6"},W={class:"flex space-x-8"},X={class:"p-6"},Y={class:"max-w-7xl mx-auto"},Z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ss={class:"lg:col-span-2"},es={class:"space-y-6"},ts={class:"bg-white rounded-classroom classroom-shadow p-4"},os={class:"space-y-3 text-sm"},as={class:"flex items-center space-x-3"},rs={class:"text-classroom-gray-600"},ls={class:"flex items-center space-x-3"},is={class:"text-classroom-gray-600"},ns={class:"flex items-center space-x-3"},cs={class:"text-classroom-gray-600"},ds={class:"bg-white rounded-classroom classroom-shadow"},ms={class:"divide-y divide-classroom-gray-100"},us=["onClick"],ps={class:"font-medium text-classroom-gray-900 text-sm mb-1"},vs={class:"text-xs text-classroom-gray-500 mb-2"},gs={class:"flex items-center justify-between"},xs={key:0,class:"p-4 text-center text-classroom-gray-500 text-sm"},hs={key:2,class:"p-6 text-center"},fs={__name:"CourseShell",setup(ys){const c=N(),D=V(),d=B(),g=P(),m=E(!0),S=[{name:"Stream",path:"stream"},{name:"Classwork",path:"classwork"},{name:"People",path:"people"},{name:"Grades",path:"grades"}],a=y(()=>d.getCourseById(c.params.id)),x=y(()=>a.value?g.assignments.filter(e=>e.courseId===a.value.id&&new Date(e.dueDate)>new Date).sort((e,n)=>new Date(e.dueDate)-new Date(n.dueDate)).slice(0,3):[]),T=t=>{const e=new Date(t),n=new Date,p=e.getTime()-n.getTime(),o=Math.ceil(p/(1e3*60*60*24));return o===0?"today":o===1?"tomorrow":o<7?`in ${o} days`:e.toLocaleDateString()},$=t=>t>=100?"chip-primary":t>=50?"chip-secondary":"chip-gray",j=()=>{var t;(t=a.value)!=null&&t.code&&navigator.clipboard.writeText(a.value.code).then(()=>{u("Class code copied to clipboard")}).catch(()=>{u("Failed to copy class code")})},A=t=>{D.push(`/course/${t.courseId}/assignments/${t.id}`)},h=async()=>{m.value=!0;try{await Promise.all([d.loadCourses(),g.loadAssignments()]),d.setCurrentCourse(c.params.id)}catch(t){console.error("Error loading course data:",t),u("Error loading course information")}finally{m.value=!1}};F(()=>{h()}),I(()=>c.params.id,()=>{h()});const u=t=>{window.showToast&&window.showToast(t)};return(t,e)=>{const n=b("router-link"),p=b("router-view");return m.value?(l(),i("div",R,[...e[1]||(e[1]=[w('<div class="skeleton h-32 w-full mb-6 rounded-classroom"></div><div class="skeleton h-12 w-full mb-8 rounded-classroom"></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2"><div class="skeleton h-64 w-full rounded-classroom"></div></div><div class="space-y-4"><div class="skeleton h-32 w-full rounded-classroom"></div><div class="skeleton h-48 w-full rounded-classroom"></div></div></div>',3)])])):a.value?(l(),i("div",q,[s("div",{class:"h-32 relative",style:z({backgroundColor:a.value.color})},[e[4]||(e[4]=s("div",{class:"absolute inset-0 bg-black bg-opacity-10"},null,-1)),s("div",G,[s("div",H,[s("h1",U,r(a.value.name),1),s("p",J,r(a.value.section),1)]),s("div",K,[s("button",{onClick:j,class:"btn-outline bg-white bg-opacity-10 border-white border-opacity-30 text-white hover:bg-white hover:bg-opacity-20"},[e[2]||(e[2]=s("span",{class:"material-icons text-sm mr-1"},"content_copy",-1)),v(" "+r(a.value.code),1)]),e[3]||(e[3]=s("button",{class:"btn-outline bg-white bg-opacity-10 border-white border-opacity-30 text-white hover:bg-white hover:bg-opacity-20"},[s("span",{class:"material-icons text-sm mr-1"},"people"),v(" People ")],-1))])])],4),s("div",O,[s("div",Q,[s("nav",W,[(l(),i(f,null,_(S,o=>k(n,{key:o.name,to:`/course/${a.value.id}/${o.path}`,class:C(["py-4 px-1 border-b-2 border-transparent text-classroom-gray-500 hover:text-classroom-gray-700 hover:border-classroom-gray-300 transition-colors font-medium text-sm",{"border-classroom-primary text-classroom-primary":t.$route.path.includes(o.path)}])},{default:M(()=>[v(r(o.name),1)]),_:2},1032,["to","class"])),64))])])]),s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[k(p)]),s("div",es,[s("div",ts,[e[8]||(e[8]=s("h3",{class:"font-medium text-classroom-gray-900 mb-3"},"About",-1)),s("div",os,[s("div",as,[e[5]||(e[5]=s("span",{class:"material-icons text-classroom-gray-400 text-lg"},"meeting_room",-1)),s("span",rs,r(a.value.room),1)]),s("div",ls,[e[6]||(e[6]=s("span",{class:"material-icons text-classroom-gray-400 text-lg"},"class",-1)),s("span",is,r(a.value.section),1)]),s("div",ns,[e[7]||(e[7]=s("span",{class:"material-icons text-classroom-gray-400 text-lg"},"subject",-1)),s("span",cs,r(a.value.subject),1)])])]),s("div",ds,[e[10]||(e[10]=s("div",{class:"p-4 border-b border-classroom-gray-100"},[s("h3",{class:"font-medium text-classroom-gray-900"},"Upcoming")],-1)),s("div",ms,[(l(!0),i(f,null,_(x.value,o=>(l(),i("div",{key:o.id,class:"p-4 hover:bg-classroom-gray-50 transition-colors cursor-pointer",onClick:bs=>A(o)},[s("h4",ps,r(o.title),1),s("p",vs," Due "+r(T(o.dueDate)),1),s("div",gs,[s("span",{class:C(["chip text-xs",$(o.points)])},r(o.points)+" points ",3),e[9]||(e[9]=s("span",{class:"material-icons text-classroom-gray-400 text-sm"},"chevron_right",-1))])],8,us))),128)),x.value.length===0?(l(),i("div",xs," No upcoming work ")):L("",!0)])]),e[11]||(e[11]=w('<div class="bg-white rounded-classroom classroom-shadow"><div class="p-4 border-b border-classroom-gray-100"><h3 class="font-medium text-classroom-gray-900">Class calendar</h3></div><div class="p-4"><div class="text-center text-classroom-gray-500 text-sm"><span class="material-icons text-4xl mb-2 opacity-50">calendar_today</span><p>Calendar view would appear here</p></div></div></div><div class="bg-white rounded-classroom classroom-shadow"><div class="p-4 border-b border-classroom-gray-100"><h3 class="font-medium text-classroom-gray-900">Class materials</h3></div><div class="p-4"><button class="w-full btn-outline text-sm flex items-center justify-center space-x-2"><span class="material-icons text-lg">folder_open</span><span>View all materials</span></button></div></div>',2))])])])])])):(l(),i("div",hs,[e[12]||(e[12]=s("div",{class:"w-24 h-24 bg-classroom-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[s("span",{class:"material-icons text-classroom-gray-400 text-4xl"},"error_outline")],-1)),e[13]||(e[13]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-2"},"Course not found",-1)),e[14]||(e[14]=s("p",{class:"text-classroom-gray-600 mb-6"},"The course you're looking for doesn't exist or you don't have access.",-1)),s("button",{onClick:e[0]||(e[0]=o=>t.$router.push("/")),class:"btn-primary"}," Back to Dashboard ")]))}}};export{fs as default};
