import{_ as L,G as j,M,c as m,a as n,b as i,e as s,t as u,n as k,h as g,q as E,u as G,r as I,o as N,F as q,g as B,l as F}from"./index-e0178975.js";const Q={class:"p-4"},R={class:"flex items-start justify-between mb-3"},V={class:"flex-1 min-w-0"},Y={class:"font-medium text-classroom-gray-900 text-lg mb-1"},H={class:"text-sm text-classroom-gray-600 line-clamp-2"},J={class:"flex items-center space-x-2 ml-4"},K={class:"chip chip-primary text-xs"},P={class:"flex items-center justify-between text-sm"},W={class:"flex items-center space-x-4 text-classroom-gray-500"},X={class:"flex items-center space-x-1"},Z={key:0,class:"text-xs text-classroom-gray-500"},ss={key:0,class:"mt-3"},es={class:"flex items-center space-x-2"},ts={class:"text-xs text-classroom-gray-500"},as={__name:"AssignmentCard",props:{assignment:{type:Object,required:!0}},emits:["click"],setup(l){const w=l,C=j(),b=M(),$=m(()=>C.currentUser),p=m(()=>C.isTeacher),d=m(()=>p.value?null:b.getSubmissionByUser(w.assignment.id,$.value.id)),y=a=>({assignment:"chip-primary",quiz:"chip-secondary",material:"chip-gray",question:"chip-secondary"})[a]||"chip-gray",h=a=>({assignment:"Assignment",quiz:"Quiz",material:"Material",question:"Question"})[a]||"Assignment",v=a=>({assigned:"chip-gray",submitted:"chip-secondary",graded:"chip-primary",missing:"bg-red-100 text-red-800"})[a]||"chip-gray",T=a=>({assigned:"Assigned",submitted:"Turned in",graded:"Graded",missing:"Missing"})[a]||"Assigned",_=a=>{const o=new Date(a),x=new Date,f=o.getTime()-x.getTime(),c=Math.ceil(f/(1e3*60*60*24));return c===0?"Due today":c===1?"Due tomorrow":c<0?"Overdue":c<7?`Due in ${c} days`:`Due ${o.toLocaleDateString()}`},A=()=>{const a=b.getSubmissionsByAssignment(w.assignment.id),o=a.length,x=a.filter(c=>c.status==="submitted"||c.status==="graded").length,f=a.filter(c=>c.status==="graded").length;return`${x}/${o} turned in â€¢ ${f} graded`};return(a,o)=>(n(),i("div",{class:"bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-all duration-300 cursor-pointer animate-hover-lift animate-press",onClick:o[0]||(o[0]=x=>a.$emit("click"))},[s("div",Q,[s("div",R,[s("div",V,[s("h3",Y,u(l.assignment.title),1),s("p",H,u(l.assignment.description),1)]),s("div",J,[s("span",{class:k(["chip text-xs",y(l.assignment.type)])},u(h(l.assignment.type)),3),s("span",K,u(l.assignment.points)+" points ",1)])]),s("div",P,[s("div",W,[s("span",X,[o[1]||(o[1]=s("span",{class:"material-icons text-base"},"schedule",-1)),s("span",null,u(_(l.assignment.dueDate)),1)]),!p.value&&d.value?(n(),i("span",{key:0,class:k(["chip text-xs",v(d.value.status)])},u(T(d.value.status)),3)):g("",!0)]),p.value?(n(),i("div",Z,u(A()),1)):g("",!0)]),l.assignment.attachments&&l.assignment.attachments.length>0?(n(),i("div",ss,[s("div",es,[o[2]||(o[2]=s("span",{class:"material-icons text-classroom-gray-400 text-sm"},"attach_file",-1)),s("span",ts,u(l.assignment.attachments.length)+" attachment"+u(l.assignment.attachments.length!==1?"s":""),1)])])):g("",!0)])]))}},os=L(as,[["__scopeId","data-v-7f1de984"],["__file","/home/buddy/GCO/src/components/AssignmentCard.vue"]]),ns={class:"space-y-6"},rs={class:"flex items-center justify-between"},is={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},ls={class:"lg:col-span-1"},cs={class:"bg-white rounded-classroom classroom-shadow p-4"},us={class:"flex items-center justify-between mb-4"},ds={class:"space-y-1"},ms={class:"flex items-center"},gs=["onClick"],ps=["onClick"],ys=["onClick"],vs={key:0,class:"ml-6 text-xs text-classroom-gray-500"},hs={class:"lg:col-span-3"},xs={key:0,class:"space-y-4"},fs={key:1,class:"bg-white rounded-classroom classroom-shadow p-8 text-center"},bs={class:"text-classroom-gray-600 mb-4"},_s={key:2,class:"space-y-4"},ks={__name:"Classwork",setup(l){const w=E(),C=G(),b=j(),$=M(),p=I(!1),d=I(null),y=I({}),h=m(()=>w.params.id);m(()=>b.currentUser);const v=m(()=>b.isTeacher),T=m(()=>[{id:"topic1",courseId:h.value,name:"Introduction to Calculus",order:1},{id:"topic2",courseId:h.value,name:"Derivatives",order:2},{id:"topic3",courseId:h.value,name:"Integration",order:3}]),_=m(()=>$.getAssignmentsByCourse(h.value)),A=m(()=>d.value===null?_.value:_.value.filter(e=>e.topicId===d.value)),a=e=>_.value.filter(t=>t.topicId===e),o=e=>{d.value=e},x=e=>{y.value[e]=!y.value[e]},f=()=>{S("Create assignment modal would open here")},c=()=>{S("Create topic modal would open here")},O=e=>{S(`Options for topic: ${e.name}`)},U=e=>{C.push(`/course/${e.courseId}/assignments/${e.id}`)},z=async()=>{p.value=!0;try{await $.loadAssignments(),T.value.forEach(e=>{a(e.id).length>0&&(y.value[e.id]=!0)})}catch(e){console.error("Error loading classwork:",e),S("Error loading classwork")}finally{p.value=!1}};N(()=>{z()});const S=e=>{window.showToast&&window.showToast(e)};return(e,t)=>(n(),i("div",ns,[s("div",rs,[t[2]||(t[2]=s("div",null,[s("h2",{class:"text-2xl font-medium text-classroom-gray-900 mb-2"},"Classwork"),s("p",{class:"text-classroom-gray-600"},"Manage assignments, questions, and materials")],-1)),v.value?(n(),i("button",{key:0,onClick:f,class:"btn-primary flex items-center space-x-2"},[...t[1]||(t[1]=[s("span",{class:"material-icons text-lg"},"add",-1),s("span",null,"Create",-1)])])):g("",!0)]),s("div",is,[s("div",ls,[s("div",cs,[s("div",us,[t[4]||(t[4]=s("h3",{class:"font-medium text-classroom-gray-900"},"Topics",-1)),v.value?(n(),i("button",{key:0,onClick:c,class:"p-1 rounded-full hover:bg-classroom-gray-100 transition-colors","aria-label":"Create topic"},[...t[3]||(t[3]=[s("span",{class:"material-icons text-classroom-gray-600 text-lg"},"add",-1)])])):g("",!0)]),s("div",ds,[s("button",{onClick:t[0]||(t[0]=r=>o(null)),class:k(["w-full text-left px-3 py-2 rounded-classroom text-sm transition-colors",{"bg-classroom-primary bg-opacity-10 text-classroom-primary":d.value===null,"text-classroom-gray-700 hover:bg-classroom-gray-100":d.value!==null}])}," All classwork ",2),(n(!0),i(q,null,B(T.value,r=>(n(),i("div",{key:r.id,class:"group"},[s("div",ms,[s("button",{onClick:D=>x(r.id),class:"p-1 rounded-full hover:bg-classroom-gray-100 transition-colors","aria-label":"Toggle topic"},[s("span",{class:k(["material-icons text-classroom-gray-500 text-sm transform transition-transform",{"rotate-90":y.value[r.id]}])}," play_arrow ",2)],8,gs),s("button",{onClick:D=>o(r.id),class:k(["flex-1 text-left px-2 py-2 rounded-classroom text-sm transition-colors",{"bg-classroom-primary bg-opacity-10 text-classroom-primary":d.value===r.id,"text-classroom-gray-700 hover:bg-classroom-gray-100":d.value!==r.id}])},u(r.name),11,ps),v.value?(n(),i("button",{key:0,onClick:D=>O(r),class:"p-1 rounded-full hover:bg-classroom-gray-100 transition-colors opacity-0 group-hover:opacity-100","aria-label":"Topic options"},[...t[5]||(t[5]=[s("span",{class:"material-icons text-classroom-gray-500 text-lg"},"more_vert",-1)])],8,ys)):g("",!0)]),y.value[r.id]?(n(),i("div",vs,u(a(r.id).length)+" assignments ",1)):g("",!0)]))),128))])])]),s("div",hs,[p.value?(n(),i("div",xs,[(n(),i(q,null,B(3,r=>s("div",{key:r,class:"bg-white rounded-classroom classroom-shadow p-4"},[...t[6]||(t[6]=[s("div",{class:"skeleton h-6 w-3/4 mb-3"},null,-1),s("div",{class:"skeleton h-4 w-full mb-2"},null,-1),s("div",{class:"skeleton h-4 w-1/2"},null,-1)])])),64))])):A.value.length===0?(n(),i("div",fs,[t[7]||(t[7]=s("div",{class:"w-16 h-16 bg-classroom-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[s("span",{class:"material-icons text-classroom-gray-400 text-2xl"},"assignment")],-1)),t[8]||(t[8]=s("h3",{class:"text-lg font-medium text-classroom-gray-900 mb-2"},"No classwork yet",-1)),s("p",bs,u(v.value?"Create assignments, questions, or materials to get started.":"Your teacher hasn't created any classwork yet."),1),v.value?(n(),i("button",{key:0,onClick:f,class:"btn-primary"}," Create your first assignment ")):g("",!0)])):(n(),i("div",_s,[(n(!0),i(q,null,B(A.value,r=>(n(),F(os,{key:r.id,assignment:r,onClick:D=>U(r)},null,8,["assignment","onClick"]))),128))]))])])]))}},Cs=L(ks,[["__file","/home/buddy/GCO/src/views/Classwork.vue"]]);export{Cs as default};
