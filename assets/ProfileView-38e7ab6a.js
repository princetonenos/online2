import{a as I,r as S,k as u,b as j,o as z,c,d as p,e as o,t as n,n as E,w as D,g as a,v as i,z as f,f as k,h as g}from"./index-ae66ec3f.js";const H={class:"p-6 max-w-4xl mx-auto","data-testid":"page-profile"},L={class:"bg-white rounded-classroom classroom-shadow p-6"},B={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},N={class:"lg:col-span-1"},A={class:"text-center"},_={class:"relative inline-block"},F=["src","alt"],G={class:"text-xl font-medium text-classroom-gray-900"},J={class:"text-classroom-gray-600"},R={class:"mt-6 space-y-3"},W={class:"flex items-center justify-between p-3 bg-classroom-gray-50 rounded-classroom"},O={class:"font-medium text-classroom-gray-900"},q={class:"flex items-center justify-between p-3 bg-classroom-gray-50 rounded-classroom"},K={class:"font-medium text-classroom-gray-900"},Q={class:"flex items-center justify-between p-3 bg-classroom-gray-50 rounded-classroom"},X={class:"font-medium text-classroom-gray-900"},Y={class:"lg:col-span-2"},Z={class:"border border-classroom-gray-200 rounded-classroom p-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oo={class:"border border-classroom-gray-200 rounded-classroom p-6"},so={class:"text-xs text-classroom-gray-500 mt-1"},eo={key:0,class:"border border-classroom-gray-200 rounded-classroom p-6"},to={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lo={key:1,class:"border border-classroom-gray-200 rounded-classroom p-6"},ro={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ao={class:"flex items-center justify-end space-x-4"},no=["disabled"],io={key:0,class:"material-icons animate-spin"},co={__name:"ProfileView",setup(mo){const V=I(),d=S(!1),r=u(()=>V.currentUser),y=u(()=>{var t;return((t=r.value)==null?void 0:t.role)==="student"}),m=u(()=>{var t;return((t=r.value)==null?void 0:t.role)==="teacher"});u(()=>{var t;return((t=r.value)==null?void 0:t.role)==="admin"});const b=S({classes:m.value?3:5,assignments:m.value?12:8,joinedDate:"Jan 2024"}),e=j({name:"",email:"",role:"",timezone:"UTC-5",bio:"",gradeLevel:"",studentId:"",department:"",officeHours:""}),M=t=>({admin:"chip-primary",teacher:"chip-secondary",student:"chip-gray"})[t]||"chip-gray",P=async()=>{d.value=!0;try{await new Promise(t=>setTimeout(t,1e3)),v("Profile updated successfully!")}catch(t){console.error("Error saving profile:",t),v("Error updating profile. Please try again.")}finally{d.value=!1}};z(()=>{r.value&&(e.name=r.value.name||"",e.email=r.value.email||"",e.role=r.value.role||"",e.bio=r.value.bio||"Passionate educator dedicated to student success.",y.value&&(e.gradeLevel="high-school",e.studentId="STU2024001"),m.value&&(e.department="Mathematics",e.officeHours="Mon-Wed 2-4 PM"))});const v=t=>{window.showToast&&window.showToast(t)};return(t,s)=>{var x,w,T,U,C,h;return c(),p("div",H,[o("div",L,[s[30]||(s[30]=o("h1",{class:"text-2xl font-medium text-classroom-gray-900 mb-6"},"Profile",-1)),o("div",B,[o("div",N,[o("div",A,[o("div",_,[o("img",{src:(x=r.value)==null?void 0:x.avatar,alt:(w=r.value)==null?void 0:w.name,class:"w-32 h-32 rounded-full mx-auto mb-4"},null,8,F),s[9]||(s[9]=o("button",{class:"absolute bottom-2 right-2 w-8 h-8 bg-classroom-primary rounded-full flex items-center justify-center text-white hover:bg-classroom-primary-dark transition-colors","aria-label":"Change profile picture"},[o("span",{class:"material-icons text-sm"},"photo_camera")],-1))]),o("h2",G,n((T=r.value)==null?void 0:T.name),1),o("p",J,n((U=r.value)==null?void 0:U.email),1),o("span",{class:E(["chip mt-2",M((C=r.value)==null?void 0:C.role)])},n((h=r.value)==null?void 0:h.role),3)]),o("div",R,[o("div",W,[s[10]||(s[10]=o("span",{class:"text-sm text-classroom-gray-600"},"Classes",-1)),o("span",O,n(b.value.classes),1)]),o("div",q,[s[11]||(s[11]=o("span",{class:"text-sm text-classroom-gray-600"},"Assignments",-1)),o("span",K,n(b.value.assignments),1)]),o("div",Q,[s[12]||(s[12]=o("span",{class:"text-sm text-classroom-gray-600"},"Joined",-1)),o("span",X,n(b.value.joinedDate),1)])])]),o("div",Y,[o("form",{onSubmit:D(P,["prevent"]),class:"space-y-6"},[o("div",Z,[s[19]||(s[19]=o("h3",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"Personal Information",-1)),o("div",$,[o("div",null,[s[13]||(s[13]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Full Name ",-1)),a(o("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>e.name=l),type:"text",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},null,512),[[i,e.name]])]),o("div",null,[s[14]||(s[14]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Email ",-1)),a(o("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>e.email=l),type:"email",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},null,512),[[i,e.email]])]),o("div",null,[s[16]||(s[16]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Role ",-1)),a(o("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>e.role=l),class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors",disabled:""},[...s[15]||(s[15]=[o("option",{value:"admin"},"Admin",-1),o("option",{value:"teacher"},"Teacher",-1),o("option",{value:"student"},"Student",-1)])],512),[[f,e.role]])]),o("div",null,[s[18]||(s[18]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Timezone ",-1)),a(o("select",{"onUpdate:modelValue":s[3]||(s[3]=l=>e.timezone=l),class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},[...s[17]||(s[17]=[k('<option value="UTC-8">Pacific Time (UTC-8)</option><option value="UTC-5">Eastern Time (UTC-5)</option><option value="UTC+0">GMT (UTC+0)</option><option value="UTC+1">Central European Time (UTC+1)</option><option value="UTC+8">China Standard Time (UTC+8)</option>',5)])],512),[[f,e.timezone]])])])]),o("div",oo,[s[21]||(s[21]=o("h3",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"About",-1)),o("div",null,[s[20]||(s[20]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Bio ",-1)),a(o("textarea",{"onUpdate:modelValue":s[4]||(s[4]=l=>e.bio=l),rows:"4",placeholder:"Tell us a bit about yourself...",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors resize-none"},null,512),[[i,e.bio]]),o("p",so,n(e.bio.length)+"/500 characters",1)])]),y.value?(c(),p("div",eo,[s[25]||(s[25]=o("h3",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"Student Information",-1)),o("div",to,[o("div",null,[s[23]||(s[23]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Grade Level ",-1)),a(o("select",{"onUpdate:modelValue":s[5]||(s[5]=l=>e.gradeLevel=l),class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},[...s[22]||(s[22]=[k('<option value="">Select grade level</option><option value="elementary">Elementary</option><option value="middle-school">Middle School</option><option value="high-school">High School</option><option value="college">College</option>',5)])],512),[[f,e.gradeLevel]])]),o("div",null,[s[24]||(s[24]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Student ID ",-1)),a(o("input",{"onUpdate:modelValue":s[6]||(s[6]=l=>e.studentId=l),type:"text",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},null,512),[[i,e.studentId]])])])])):g("",!0),m.value?(c(),p("div",lo,[s[28]||(s[28]=o("h3",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"Teacher Information",-1)),o("div",ro,[o("div",null,[s[26]||(s[26]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Department ",-1)),a(o("input",{"onUpdate:modelValue":s[7]||(s[7]=l=>e.department=l),type:"text",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},null,512),[[i,e.department]])]),o("div",null,[s[27]||(s[27]=o("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Office Hours ",-1)),a(o("input",{"onUpdate:modelValue":s[8]||(s[8]=l=>e.officeHours=l),type:"text",placeholder:"e.g., Mon-Wed 2-4 PM",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors"},null,512),[[i,e.officeHours]])])])])):g("",!0),o("div",ao,[s[29]||(s[29]=o("button",{type:"button",class:"btn-outline"},"Cancel",-1)),o("button",{type:"submit",class:"btn-primary flex items-center space-x-2",disabled:d.value},[d.value?(c(),p("span",io,"refresh")):g("",!0),o("span",null,n(d.value?"Saving...":"Save Changes"),1)],8,no)])],32)])])])])}}};export{co as default};
