import{p as $,u as G,y as I,D as M,E as F,a as J,r as R,k as c,o as V,c as a,d as r,e as s,t as l,F as d,m,h as z,n as D}from"./index-ae66ec3f.js";const U={class:"p-6 max-w-7xl mx-auto"},W={class:"bg-white rounded-classroom classroom-shadow p-6 mb-6"},q={class:"flex items-start justify-between mb-4"},H={class:"text-3xl font-medium text-classroom-gray-900 mb-2"},K={class:"text-classroom-gray-600"},O={class:"text-sm text-classroom-gray-500"},Q={class:"border-b border-classroom-gray-200 mb-6"},X={class:"-mb-px flex space-x-8"},Y=["onClick"],Z={key:0},ss={class:"bg-white rounded-classroom classroom-shadow p-6"},ts={key:0,class:"text-center py-8 text-classroom-gray-500"},es={key:1,class:"space-y-4"},os={class:"flex items-start space-x-3"},as={class:"flex-1"},rs={class:"font-medium text-classroom-gray-900 mb-1"},ls={class:"text-classroom-gray-600 mb-2"},is={class:"text-xs text-classroom-gray-500"},ns={key:1},cs={class:"bg-white rounded-classroom classroom-shadow p-6"},ds={key:0,class:"text-center py-8 text-classroom-gray-500"},ms={key:1,class:"space-y-4"},us=["onClick"],ps={class:"flex items-start justify-between"},xs={class:"flex-1"},ys={class:"font-medium text-classroom-gray-900 mb-1"},hs={class:"text-sm text-classroom-gray-600 mb-2"},_s={class:"flex items-center space-x-4 text-xs text-classroom-gray-500"},vs={class:"flex items-center space-x-1"},gs={key:0,class:"chip chip-primary"},bs={key:1,class:"chip chip-secondary"},fs={key:2},ws={class:"bg-white rounded-classroom classroom-shadow p-6"},ks={class:"space-y-4"},Ss={class:"flex items-center space-x-3 p-3 bg-classroom-primary bg-opacity-5 rounded-classroom"},Cs={class:"font-medium text-classroom-gray-900"},Ds={class:"font-medium text-classroom-gray-900"},As={key:3},js={class:"bg-white rounded-classroom classroom-shadow p-6"},Ns={key:0,class:"text-center py-8 text-classroom-gray-500"},Ps={key:1,class:"space-y-4"},Ts={class:"flex items-center justify-between"},Ls={class:"font-medium text-classroom-gray-900 mb-1"},Bs={class:"text-sm text-classroom-gray-600"},Es={class:"text-right"},$s={class:"text-lg font-medium text-classroom-primary"},Gs={class:"text-sm text-classroom-gray-600"},Fs={__name:"ClassDetail",setup(Is){const u=$(),x=G(),y=I(),h=M(),_=F();J();const i=R("stream"),A=[{id:"stream",name:"Stream"},{id:"classwork",name:"Classwork"},{id:"people",name:"People"},{id:"grades",name:"Grades"}],n=c(()=>y.getCourseById(u.params.id)),v=c(()=>_.posts.filter(o=>o.courseId===u.params.id&&o.type==="announcement").sort((o,t)=>new Date(t.createdAt)-new Date(o.createdAt))),p=c(()=>h.assignments.filter(o=>o.courseId===u.params.id).sort((o,t)=>new Date(o.dueDate)-new Date(t.dueDate))),g=c(()=>p.value.filter(o=>o.submissionStatus==="submitted"&&o.grade)),j=c(()=>[{id:1,name:"Alex Johnson"},{id:2,name:"Maria Garcia"},{id:3,name:"David Smith"},{id:4,name:"Sarah Williams"}]),b=o=>new Date(o).toLocaleDateString(),N=o=>new Date(o).toLocaleDateString(),P=o=>o>=100?"chip-primary":o>=50?"chip-secondary":"chip-gray",T=o=>{x.push(`/student/classwork/${o.id}`)},L=()=>{x.push(`/course/${u.params.id}/live`)};V(async()=>{try{await Promise.all([y.loadCourses(),h.loadAssignments(),_.loadPosts()])}catch(o){console.error("Error loading class data:",o),B("Error loading class information")}});const B=o=>{window.showToast&&window.showToast(o)};return(o,t)=>{var f,w,k,S,C;return a(),r("div",U,[s("div",W,[s("div",q,[s("div",null,[s("h1",H,l((f=n.value)==null?void 0:f.name),1),s("p",K,l((w=n.value)==null?void 0:w.teacherName),1),s("p",O,"Section: "+l((k=n.value)==null?void 0:k.section)+" â€¢ Code: "+l((S=n.value)==null?void 0:S.code),1)]),s("button",{onClick:L,class:"btn-primary flex items-center space-x-2"},[...t[0]||(t[0]=[s("span",{class:"material-icons"},"video_call",-1),s("span",null,"Join Live Class",-1)])])])]),s("div",Q,[s("nav",X,[(a(),r(d,null,m(A,e=>s("button",{key:e.id,onClick:E=>i.value=e.id,class:D(["py-2 px-1 border-b-2 font-medium text-sm transition-colors",i.value===e.id?"border-classroom-primary text-classroom-primary":"border-transparent text-classroom-gray-500 hover:text-classroom-gray-700 hover:border-classroom-gray-300"])},l(e.name),11,Y)),64))])]),i.value==="stream"?(a(),r("div",Z,[s("div",ss,[t[3]||(t[3]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-4"},"Class Stream",-1)),v.value.length===0?(a(),r("div",ts,[...t[1]||(t[1]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"campaign",-1),s("p",null,"No announcements yet",-1)])])):(a(),r("div",es,[(a(!0),r(d,null,m(v.value,e=>(a(),r("div",{key:e.id,class:"p-4 border border-classroom-gray-200 rounded-classroom"},[s("div",os,[t[2]||(t[2]=s("div",{class:"w-10 h-10 bg-classroom-primary bg-opacity-10 rounded-full flex items-center justify-center flex-shrink-0"},[s("span",{class:"material-icons text-classroom-primary"},"campaign")],-1)),s("div",as,[s("h3",rs,l(e.title),1),s("p",ls,l(e.content),1),s("p",is,l(b(e.createdAt)),1)])])]))),128))]))])])):i.value==="classwork"?(a(),r("div",ns,[s("div",cs,[t[7]||(t[7]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-4"},"Classwork",-1)),p.value.length===0?(a(),r("div",ds,[...t[4]||(t[4]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"assignment",-1),s("p",null,"No assignments yet",-1)])])):(a(),r("div",ms,[(a(!0),r(d,null,m(p.value,e=>(a(),r("div",{key:e.id,class:"p-4 border border-classroom-gray-200 rounded-classroom hover:border-classroom-primary transition-colors cursor-pointer",onClick:E=>T(e)},[s("div",ps,[s("div",xs,[s("h3",ys,l(e.title),1),s("p",hs,l(e.description),1),s("div",_s,[s("span",vs,[t[5]||(t[5]=s("span",{class:"material-icons text-sm"},"schedule",-1)),s("span",null,"Due "+l(N(e.dueDate)),1)]),s("span",{class:D(["chip",P(e.points)])},l(e.points)+" points ",3),e.submissionStatus==="submitted"?(a(),r("span",gs," Submitted ")):(a(),r("span",bs," Pending "))])]),t[6]||(t[6]=s("span",{class:"material-icons text-classroom-gray-400"},"chevron_right",-1))])],8,us))),128))]))])])):i.value==="people"?(a(),r("div",fs,[s("div",ws,[t[12]||(t[12]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-4"},"People",-1)),s("div",ks,[s("div",Ss,[t[9]||(t[9]=s("div",{class:"w-10 h-10 bg-classroom-primary rounded-full flex items-center justify-center"},[s("span",{class:"material-icons text-white text-sm"},"person")],-1)),s("div",null,[s("h3",Cs,l((C=n.value)==null?void 0:C.teacherName),1),t[8]||(t[8]=s("p",{class:"text-sm text-classroom-gray-600"},"Teacher",-1))])]),(a(!0),r(d,null,m(j.value,e=>(a(),r("div",{key:e.id,class:"flex items-center space-x-3 p-3 border border-classroom-gray-200 rounded-classroom"},[t[11]||(t[11]=s("div",{class:"w-10 h-10 bg-classroom-gray-200 rounded-full flex items-center justify-center"},[s("span",{class:"material-icons text-classroom-gray-600 text-sm"},"person")],-1)),s("div",null,[s("h3",Ds,l(e.name),1),t[10]||(t[10]=s("p",{class:"text-sm text-classroom-gray-600"},"Student",-1))])]))),128))])])])):i.value==="grades"?(a(),r("div",As,[s("div",js,[t[14]||(t[14]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-4"},"Grades",-1)),g.value.length===0?(a(),r("div",Ns,[...t[13]||(t[13]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"grade",-1),s("p",null,"No graded assignments yet",-1)])])):(a(),r("div",Ps,[(a(!0),r(d,null,m(g.value,e=>(a(),r("div",{key:e.id,class:"p-4 border border-classroom-gray-200 rounded-classroom"},[s("div",Ts,[s("div",null,[s("h3",Ls,l(e.title),1),s("p",Bs,"Submitted on "+l(b(e.submittedAt)),1)]),s("div",Es,[s("p",$s,l(e.grade)+"/"+l(e.points),1),s("p",Gs,l(Math.round(e.grade/e.points*100))+"%",1)])])]))),128))]))])])):z("",!0)])}}};export{Fs as default};
