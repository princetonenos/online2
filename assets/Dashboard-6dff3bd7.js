import{u as L,a as F,y as H,D as R,E as Y,k as c,r as z,o as J,l as W,c as n,d as l,e as s,t as r,h as q,G as d,f as u,F as b,m as w,n as K}from"./index-ae66ec3f.js";const O={class:"p-6 max-w-7xl mx-auto","data-testid":"page-student-dashboard"},Q={class:"mb-8"},X={class:"text-3xl font-medium text-classroom-gray-900 mb-2"},Z={class:"text-classroom-gray-600"},ss={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"},ts={class:"bg-white rounded-classroom classroom-shadow p-4"},os={class:"flex items-center justify-between"},es={class:"text-2xl font-medium text-classroom-gray-900"},rs={class:"bg-white rounded-classroom classroom-shadow p-4"},as={class:"flex items-center justify-between"},ns={class:"text-2xl font-medium text-classroom-gray-900"},ls={class:"bg-white rounded-classroom classroom-shadow p-4"},is={class:"flex items-center justify-between"},cs={class:"text-2xl font-medium text-classroom-gray-900"},ds={class:"bg-white rounded-classroom classroom-shadow p-4"},ms={class:"flex items-center justify-between"},us={class:"text-2xl font-medium text-classroom-gray-900"},ps={key:0,class:"bg-white rounded-classroom classroom-shadow p-6 mb-8"},gs={class:"flex items-center justify-between"},xs={class:"text-classroom-gray-600"},ys={class:"text-sm text-classroom-gray-500"},vs={class:"text-right"},fs={class:"text-2xl font-bold text-classroom-primary"},hs={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"},bs={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"},ws={class:"mb-8"},_s={class:"flex items-center justify-between mb-6"},ks={class:"bg-white rounded-classroom classroom-shadow overflow-hidden"},Ds={key:0,class:"p-8 text-center text-classroom-gray-500"},Cs={key:1,class:"divide-y divide-classroom-gray-100"},Ss=["onClick"],js={class:"flex items-start space-x-3"},Ts={class:"flex-1"},$s={class:"font-medium text-classroom-gray-900 mb-1"},As={class:"text-sm text-classroom-gray-600 mb-2"},Is={class:"flex items-center space-x-4 text-xs text-classroom-gray-500"},Ns={class:"mb-8"},Vs={class:"flex items-center justify-between mb-6"},Ps={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},Us=["onClick"],Ms={class:"font-medium text-classroom-gray-900 mb-1"},Es={class:"text-sm text-classroom-gray-600 mb-2"},Gs={class:"flex items-center justify-between text-xs text-classroom-gray-500"},Bs={class:"bg-white rounded-classroom classroom-shadow overflow-hidden"},Ls={key:0,class:"p-8 text-center text-classroom-gray-500"},Fs={key:1,class:"divide-y divide-classroom-gray-100"},Hs=["onClick"],Rs={class:"flex items-start justify-between"},Ys={class:"flex-1"},zs={class:"font-medium text-classroom-gray-900 mb-1"},Js={class:"text-sm text-classroom-gray-600 mb-2"},Ws={class:"flex items-center space-x-4 text-xs text-classroom-gray-500"},qs={class:"flex items-center space-x-1"},Ks={key:0,class:"chip chip-primary"},Os={key:1,class:"chip chip-secondary"},Zs={__name:"Dashboard",setup(Qs){const i=L(),T=F(),y=H(),g=R(),_=Y(),v=c(()=>T.currentUser),x=c(()=>v.value?y.getCoursesForUser(v.value.id):[]),$=c(()=>{const e=new Date().getHours();return e<12?"Good morning! Ready to learn something new today?":e<18?"Good afternoon! Hope your day is going well.":"Good evening! Time to wrap up your work."}),k=c(()=>g.assignments.filter(t=>{const a=new Date(t.dueDate),o=new Date;return a>o&&a<new Date(o.getTime()+6048e5)}).sort((t,a)=>new Date(t.dueDate)-new Date(a.dueDate))),D=c(()=>k.value.filter(e=>e.submissionStatus!=="submitted").slice(0,5)),A=c(()=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date(e);return t.setDate(t.getDate()+1),g.assignments.filter(a=>{const o=new Date(a.dueDate);return o>=e&&o<t&&a.submissionStatus!=="submitted"}).length}),I=c(()=>g.assignments.filter(e=>e.submissionStatus==="submitted").length),C=c(()=>_.posts.filter(e=>e.type==="announcement").sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,3)),p=c(()=>x.value.length>0?{...x.value[0],startTime:new Date(Date.now()+2*60*60*1e3)}:null),f=z(""),S=e=>{const t=y.getCourseById(e);return(t==null?void 0:t.name)||"Unknown Course"},N=e=>{const t=new Date(e),a=new Date,o=t.getTime()-a.getTime(),m=Math.ceil(o/(1e3*60*60*24));return m===0?"Today":m===1?"Tomorrow":m<7?`In ${m} days`:t.toLocaleDateString()},V=e=>new Date(e).toLocaleDateString(),P=e=>e.startTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),U=e=>e>=100?"chip-primary":e>=50?"chip-secondary":"chip-gray",M=e=>{i.push(`/student/classes/${e}`)},E=e=>{i.push(`/student/classwork/${e.id}`)},G=e=>{i.push(`/course/${e.courseId}/stream`)},j=()=>{if(p.value){const e=new Date,t=p.value.startTime-e;if(t>0){const a=Math.floor(t/36e5),o=Math.floor(t%(1e3*60*60)/(1e3*60));f.value=`${a}h ${o}m`}else f.value="Starting soon"}};let h;J(async()=>{try{await Promise.all([y.loadCourses(),g.loadAssignments(),_.loadPosts()]),j(),h=setInterval(j,6e4)}catch(e){console.error("Error loading data:",e),B("Error loading student data")}}),W(()=>{h&&clearInterval(h)});const B=e=>{window.showToast&&window.showToast(e)};return(e,t)=>{var a;return n(),l("div",O,[s("div",Q,[s("h1",X," Welcome, "+r((a=v.value)==null?void 0:a.name)+"! ",1),s("p",Z,r($.value),1)]),s("div",ss,[s("div",ts,[s("div",os,[s("div",null,[t[8]||(t[8]=s("p",{class:"text-sm text-classroom-gray-500"},"Your Classes",-1)),s("p",es,r(x.value.length),1)]),t[9]||(t[9]=s("div",{class:"w-12 h-12 bg-classroom-primary bg-opacity-10 rounded-classroom flex items-center justify-center"},[s("span",{class:"material-icons text-classroom-primary"},"school")],-1))])]),s("div",rs,[s("div",as,[s("div",null,[t[10]||(t[10]=s("p",{class:"text-sm text-classroom-gray-500"},"Upcoming",-1)),s("p",ns,r(k.value.length),1)]),t[11]||(t[11]=s("div",{class:"w-12 h-12 bg-classroom-secondary bg-opacity-10 rounded-classroom flex items-center justify-center"},[s("span",{class:"material-icons text-classroom-secondary"},"assignment")],-1))])]),s("div",ls,[s("div",is,[s("div",null,[t[12]||(t[12]=s("p",{class:"text-sm text-classroom-gray-500"},"Due Today",-1)),s("p",cs,r(A.value),1)]),t[13]||(t[13]=s("div",{class:"w-12 h-12 bg-classroom-support bg-opacity-10 rounded-classroom flex items-center justify-center"},[s("span",{class:"material-icons text-classroom-support"},"schedule")],-1))])]),s("div",ds,[s("div",ms,[s("div",null,[t[14]||(t[14]=s("p",{class:"text-sm text-classroom-gray-500"},"Completed",-1)),s("p",us,r(I.value),1)]),t[15]||(t[15]=s("div",{class:"w-12 h-12 bg-classroom-primary bg-opacity-10 rounded-classroom flex items-center justify-center"},[s("span",{class:"material-icons text-classroom-primary"},"check_circle")],-1))])])]),p.value?(n(),l("div",ps,[s("div",gs,[s("div",null,[t[16]||(t[16]=s("h3",{class:"text-lg font-medium text-classroom-gray-900 mb-2"},"Next Class",-1)),s("p",xs,r(p.value.name),1),s("p",ys,r(P(p.value)),1)]),s("div",vs,[s("p",fs,r(f.value),1),t[17]||(t[17]=s("p",{class:"text-sm text-classroom-gray-500"},"starts in",-1))])])])):q("",!0),s("div",hs,[s("button",{onClick:t[0]||(t[0]=o=>d(i).push("/student/join")),class:"p-4 bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-colors text-left group focus-classroom"},[...t[18]||(t[18]=[u('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-classroom-primary bg-opacity-10 rounded-classroom flex items-center justify-center"><span class="material-icons text-classroom-primary">group_add</span></div><div><h3 class="font-medium text-classroom-gray-900">Join class</h3><p class="text-sm text-classroom-gray-500">Enter a class code</p></div></div>',1)])]),s("button",{onClick:t[1]||(t[1]=o=>d(i).push("/student/classwork")),class:"p-4 bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-colors text-left group focus-classroom"},[...t[19]||(t[19]=[u('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-classroom-secondary bg-opacity-10 rounded-classroom flex items-center justify-center"><span class="material-icons text-classroom-secondary">assignment</span></div><div><h3 class="font-medium text-classroom-gray-900">View classwork</h3><p class="text-sm text-classroom-gray-500">See all assignments</p></div></div>',1)])]),s("button",{onClick:t[2]||(t[2]=o=>d(i).push("/student/calendar")),class:"p-4 bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-colors text-left group focus-classroom"},[...t[20]||(t[20]=[u('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-classroom-support bg-opacity-10 rounded-classroom flex items-center justify-center"><span class="material-icons text-classroom-support">calendar_today</span></div><div><h3 class="font-medium text-classroom-gray-900">View calendar</h3><p class="text-sm text-classroom-gray-500">See your schedule</p></div></div>',1)])])]),s("div",bs,[s("button",{onClick:t[3]||(t[3]=o=>d(i).push("/student/grades")),class:"p-4 bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-colors text-left group focus-classroom"},[...t[21]||(t[21]=[u('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-classroom-support bg-opacity-10 rounded-classroom flex items-center justify-center"><span class="material-icons text-classroom-support">grade</span></div><div><h3 class="font-medium text-classroom-gray-900">Grades</h3><p class="text-sm text-classroom-gray-500">View your grades</p></div></div>',1)])]),s("button",{onClick:t[4]||(t[4]=o=>d(i).push("/student/people")),class:"p-4 bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-colors text-left group focus-classroom"},[...t[22]||(t[22]=[u('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-classroom-support bg-opacity-10 rounded-classroom flex items-center justify-center"><span class="material-icons text-classroom-support">people</span></div><div><h3 class="font-medium text-classroom-gray-900">People</h3><p class="text-sm text-classroom-gray-500">Classmates &amp; teachers</p></div></div>',1)])]),s("button",{onClick:t[5]||(t[5]=o=>d(i).push("/settings")),class:"p-4 bg-white rounded-classroom classroom-shadow border border-classroom-gray-200 hover:border-classroom-primary transition-colors text-left group focus-classroom"},[...t[23]||(t[23]=[u('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-classroom-support bg-opacity-10 rounded-classroom flex items-center justify-center"><span class="material-icons text-classroom-support">settings</span></div><div><h3 class="font-medium text-classroom-gray-900">Settings</h3><p class="text-sm text-classroom-gray-500">Manage your settings</p></div></div>',1)])])]),s("div",ws,[s("div",_s,[t[24]||(t[24]=s("h2",{class:"text-2xl font-medium text-classroom-gray-900"},"Recent Announcements",-1)),s("button",{onClick:t[6]||(t[6]=o=>d(i).push("/student/stream")),class:"text-classroom-primary hover:text-classroom-primary-dark transition-colors"}," View all ")]),s("div",ks,[C.value.length===0?(n(),l("div",Ds,[...t[25]||(t[25]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"campaign",-1),s("p",null,"No recent announcements",-1)])])):(n(),l("div",Cs,[(n(!0),l(b,null,w(C.value,o=>(n(),l("div",{key:o.id,class:"p-4 hover:bg-classroom-gray-50 transition-colors cursor-pointer",onClick:m=>G(o)},[s("div",js,[t[26]||(t[26]=s("div",{class:"w-8 h-8 bg-classroom-primary bg-opacity-10 rounded-full flex items-center justify-center flex-shrink-0"},[s("span",{class:"material-icons text-classroom-primary text-sm"},"campaign")],-1)),s("div",Ts,[s("h3",$s,r(o.title),1),s("p",As,r(o.content),1),s("div",Is,[s("span",null,r(S(o.courseId)),1),s("span",null,r(V(o.createdAt)),1)])])])],8,Ss))),128))]))])]),s("div",Ns,[s("div",Vs,[t[27]||(t[27]=s("h2",{class:"text-2xl font-medium text-classroom-gray-900"},"Your Classes",-1)),s("button",{onClick:t[7]||(t[7]=o=>d(i).push("/student/classes")),class:"text-classroom-primary hover:text-classroom-primary-dark transition-colors"}," View all ")]),s("div",Ps,[(n(!0),l(b,null,w(x.value.slice(0,4),o=>(n(),l("div",{key:o.id,class:"bg-white rounded-classroom classroom-shadow p-4 hover:shadow-classroom transition-shadow cursor-pointer",onClick:m=>M(o.id)},[t[28]||(t[28]=s("div",{class:"w-full h-32 bg-gradient-to-br from-classroom-primary to-classroom-secondary rounded-classroom mb-3 flex items-center justify-center"},[s("span",{class:"material-icons text-white text-4xl"},"school")],-1)),s("h3",Ms,r(o.name),1),s("p",Es,r(o.teacherName),1),s("div",Gs,[s("span",null,r(o.section),1),s("span",null,r(o.enrolledStudents)+" students",1)])],8,Us))),128))])]),s("div",null,[t[32]||(t[32]=s("h2",{class:"text-2xl font-medium text-classroom-gray-900 mb-6"},"Pending Assignments",-1)),s("div",Bs,[D.value.length===0?(n(),l("div",Ls,[...t[29]||(t[29]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"assignment",-1),s("p",null,"No pending assignments",-1)])])):(n(),l("div",Fs,[(n(!0),l(b,null,w(D.value,o=>(n(),l("div",{key:o.id,class:"p-4 hover:bg-classroom-gray-50 transition-colors cursor-pointer",onClick:m=>E(o)},[s("div",Rs,[s("div",Ys,[s("h3",zs,r(o.title),1),s("p",Js,r(S(o.courseId)),1),s("div",Ws,[s("span",qs,[t[30]||(t[30]=s("span",{class:"material-icons text-sm"},"schedule",-1)),s("span",null,r(N(o.dueDate)),1)]),s("span",{class:K(["chip",U(o.points)])},r(o.points)+" points ",3),o.submissionStatus==="submitted"?(n(),l("span",Ks," Submitted ")):(n(),l("span",Os," Pending "))])]),t[31]||(t[31]=s("span",{class:"material-icons text-classroom-gray-400"},"chevron_right",-1))])],8,Hs))),128))]))])])])}}};export{Zs as default};
