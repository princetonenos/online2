import{_ as J,B as ce,s as ue,a as i,b as d,e,t as l,w as D,f as $,v as I,C as ge,h as M,r as E,o as me,c as h,n as v,F as p,g as b,D as z,y as ve,E as Y}from"./index-d2bf20c5.js";import{u as pe}from"./teacherClasses-0d930535.js";const be={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40"},xe={class:"bg-white rounded p-6 w-full max-w-md"},ye={class:"text-lg font-medium mb-3"},fe={class:"block mb-2"},he={class:"block mb-2"},we={class:"block mb-2"},_e={class:"block mb-2"},De={class:"block mb-2"},ke={class:"flex justify-end gap-2 mt-4"},Se={__name:"EventModal",props:{open:Boolean,event:{type:Object,default:null}},emits:["update:open","saved"],setup(k,{emit:w}){const x=k,y=w,n=ce({id:null,title:"",start:"",end:"",type:"class",notes:""});ue(()=>x.event,c=>{c?(n.id=c.id||null,n.title=c.title||"",n.start=c.start?new Date(c.start).toISOString().slice(0,16):"",n.end=c.end?new Date(c.end).toISOString().slice(0,16):"",n.type=c.type||"class",n.notes=c.notes||""):(n.id=null,n.title="",n.start="",n.end="",n.type="class",n.notes="")},{immediate:!0});function u(){const c={id:n.id||null,title:n.title,start:new Date(n.start).toISOString(),end:new Date(n.end).toISOString(),type:n.type,notes:n.notes};y("saved",c)}return(c,a)=>k.open?(i(),d("div",be,[e("div",xe,[e("h3",ye,l(k.event&&k.event.id?"Edit event":"Add event"),1),e("form",{onSubmit:D(u,["prevent"])},[e("label",fe,[a[6]||(a[6]=e("div",{class:"text-sm"},"Title",-1)),$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=m=>n.title=m),required:"",class:"w-full p-2 border rounded"},null,512),[[I,n.title]])]),e("label",he,[a[7]||(a[7]=e("div",{class:"text-sm"},"Start",-1)),$(e("input",{"onUpdate:modelValue":a[1]||(a[1]=m=>n.start=m),type:"datetime-local",required:"",class:"w-full p-2 border rounded"},null,512),[[I,n.start]])]),e("label",we,[a[8]||(a[8]=e("div",{class:"text-sm"},"End",-1)),$(e("input",{"onUpdate:modelValue":a[2]||(a[2]=m=>n.end=m),type:"datetime-local",required:"",class:"w-full p-2 border rounded"},null,512),[[I,n.end]])]),e("label",_e,[a[10]||(a[10]=e("div",{class:"text-sm"},"Type",-1)),$(e("select",{"onUpdate:modelValue":a[3]||(a[3]=m=>n.type=m),class:"w-full p-2 border rounded"},[...a[9]||(a[9]=[e("option",{value:"class"},"class",-1),e("option",{value:"meeting"},"meeting",-1),e("option",{value:"personal"},"personal",-1)])],512),[[ge,n.type]])]),e("label",De,[a[11]||(a[11]=e("div",{class:"text-sm"},"Notes",-1)),$(e("textarea",{"onUpdate:modelValue":a[4]||(a[4]=m=>n.notes=m),class:"w-full p-2 border rounded"},null,512),[[I,n.notes]])]),e("div",ke,[e("button",{type:"button",class:"px-3 py-1 border rounded",onClick:a[5]||(a[5]=m=>c.$emit("update:open",!1))},"Cancel"),a[12]||(a[12]=e("button",{class:"px-3 py-1 bg-green-600 text-white rounded"},"Save",-1))])],32)])])):M("",!0)}},Ce=J(Se,[["__file","/Users/mac/Development/startups/online2/src/components/teacher/EventModal.vue"]]);const Te={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-6"},$e={class:"mb-8"},Ee={class:"flex items-center justify-between"},Me={class:"flex items-center space-x-4"},je={class:"flex items-center space-x-2 bg-white rounded-classroom shadow-sm border border-gray-200 p-1"},Ie={class:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mb-6"},Ae={class:"flex items-center justify-between mb-6"},Ue={class:"flex items-center space-x-4"},Oe={class:"text-2xl font-bold text-gray-900"},Ve={class:"bg-white rounded-classroom border border-gray-200 overflow-hidden"},Fe={key:0,class:"calendar-month"},He={class:"grid grid-cols-7 bg-gray-50 border-b border-gray-200"},Le={class:"grid grid-cols-7"},We=["onClick"],qe={class:"flex justify-between items-center mb-2"},Ne=["onClick"],Pe={class:"space-y-1"},Be=["onClick"],ze={class:"font-medium"},Ye={class:"text-xs opacity-75"},Je={key:1,class:"calendar-week"},Re={class:"grid grid-cols-8 border-b border-gray-200"},Ge={class:"text-sm font-semibold text-gray-600"},Ke={class:"relative"},Qe={class:"p-2 border-r border-gray-200 bg-gray-50 text-right text-sm text-gray-500"},Xe=["onClick"],Ze=["onClick"],et={class:"font-medium"},tt={class:"text-xs opacity-75"},st={key:2,class:"calendar-day"},ot={class:"flex border-b border-gray-200"},nt={class:"flex-1 p-4 text-center bg-gray-50"},rt={class:"text-lg font-bold text-gray-900"},at={class:"relative"},lt={class:"w-20 p-2 border-r border-gray-200 bg-gray-50 text-right text-sm text-gray-500"},it=["onClick"],dt=["onClick"],ct={class:"font-medium"},ut={class:"text-xs opacity-75"},gt={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},mt={class:"lg:col-span-3"},vt={class:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},pt={class:"space-y-4"},bt=["onClick"],xt={class:"flex items-center space-x-4"},yt={class:"material-icons text-white text-lg"},ft={class:"font-semibold text-gray-900"},ht={class:"text-sm text-gray-600"},wt={class:"text-xs text-gray-500 mt-1"},_t={class:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity"},Dt=["onClick"],kt=["onClick"],St={key:0,class:"text-center py-8"},Ct={class:"space-y-6"},Tt={class:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},$t={class:"space-y-3"},Et=["onClick"],Mt={class:"material-icons text-white text-sm"},jt={class:"text-sm font-medium text-gray-900"},It={class:"text-xs text-gray-500"},At={class:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},Ut={class:"space-y-4"},Ot={class:"flex items-center justify-between"},Vt={class:"text-lg font-bold text-gray-900"},Ft={class:"flex items-center justify-between"},Ht={class:"text-lg font-bold text-blue-600"},Lt={class:"flex items-center justify-between"},Wt={class:"text-lg font-bold text-green-600"},qt={class:"flex items-center justify-between"},Nt={class:"text-lg font-bold text-purple-600"},Pt={__name:"TeacherCalendar",setup(k){const w=pe(),x=E(!1),y=E(null),n=E("month"),u=E(new Date),c=E(new Date),a=JSON.parse(localStorage.getItem("mock:currentUser")||"null"),m=[{value:"class",label:"Class",icon:"school",color:"bg-blue-500",description:"Scheduled class session"},{value:"assignment",label:"Assignment",icon:"assignment",color:"bg-purple-500",description:"Homework or project"},{value:"meeting",label:"Meeting",icon:"groups",color:"bg-green-500",description:"Staff or parent meeting"},{value:"personal",label:"Personal",icon:"person",color:"bg-orange-500",description:"Personal appointment"},{value:"deadline",label:"Deadline",icon:"schedule",color:"bg-red-500",description:"Important deadline"}];me(()=>{U()});function U(){w.fetchAll()}const _=h(()=>w.events.filter(o=>o.ownerId===(a==null?void 0:a.id))),R=h(()=>{if(n.value==="month")return u.value.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(n.value==="week"){const o=new Date(u.value);o.setDate(o.getDate()-o.getDay());const t=new Date(o);return t.setDate(t.getDate()+6),`${o.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else return c.value.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})});function A(o){n.value=o}function G(){n.value==="month"?u.value=new Date(u.value.getFullYear(),u.value.getMonth()-1,1):n.value==="week"?u.value=new Date(u.value.getTime()-7*24*60*60*1e3):c.value=new Date(c.value.getTime()-24*60*60*1e3)}function K(){n.value==="month"?u.value=new Date(u.value.getFullYear(),u.value.getMonth()+1,1):n.value==="week"?u.value=new Date(u.value.getTime()+7*24*60*60*1e3):c.value=new Date(c.value.getTime()+24*60*60*1e3)}function Q(){u.value=new Date,c.value=new Date}const O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=Array.from({length:12},(o,t)=>t+8),X=h(()=>{const o=u.value.getFullYear(),t=u.value.getMonth(),s=new Date(o,t,1),r=new Date(o,t+1,0),g=new Date(s);g.setDate(g.getDate()-g.getDay());const T=new Date(r);T.setDate(T.getDate()+(6-T.getDay()));const B=[],f=new Date(g);for(;f<=T;)B.push({date:new Date(f),day:f.getDate(),isCurrentMonth:f.getMonth()===t,isToday:f.toDateString()===new Date().toDateString(),isSelected:f.toDateString()===c.value.toDateString()}),f.setDate(f.getDate()+1);return B}),F=h(()=>{const o=new Date(u.value);return o.setDate(o.getDate()-o.getDay()),Array.from({length:7},(t,s)=>{const r=new Date(o);return r.setDate(r.getDate()+s),{date:r,day:r.getDate(),weekday:O[r.getDay()],isToday:r.toDateString()===new Date().toDateString()}})});function H(){y.value=null,x.value=!0}function S(o){y.value={...o},x.value=!0}function Z(o){o.id?w.updateEvent(o):(o.id=Date.now().toString(),o.ownerId=a==null?void 0:a.id,w.addEvent(o)),x.value=!1}function ee(o){confirm("Delete this event?")&&w.removeEvent(o)}function te(o){c.value=o,n.value==="month"&&(n.value="day")}function se(o){y.value={start:new Date(o.setHours(9,0,0,0)).toISOString(),end:new Date(o.setHours(10,0,0,0)).toISOString()},x.value=!0}function L(o,t){y.value={start:new Date(o.setHours(t,0,0,0)).toISOString(),end:new Date(o.setHours(t+1,0,0,0)).toISOString()},x.value=!0}function oe(o){y.value={type:o},x.value=!0}function ne(o){return _.value.filter(t=>new Date(t.start).toDateString()===o.toDateString())}function W(o,t){return _.value.filter(s=>{const r=new Date(s.start).toDateString(),g=new Date(s.start).getHours();return r===o.toDateString()&&g===t})}function j(o){return`${(m.find(s=>s.value===o)||m[0]).color} text-white`}function re(o){return(m.find(s=>s.value===o)||m[0]).icon}function q(o){return`${new Date(o.start).getMinutes()/60*64}px`}function N(o){const t=new Date(o.start);return`${(new Date(o.end)-t)/(1e3*60*60)*64}px`}function C(o){try{return new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return o}}function ae(o){try{return new Date(o).toLocaleString([],{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return o}}const P=h(()=>{const o=new Date;return _.value.filter(t=>new Date(t.start)>=o).sort((t,s)=>new Date(t.start)-new Date(s.start)).slice(0,5)}),le=h(()=>{const o=new Date,t=new Date(o.getTime()+7*24*60*60*1e3);return _.value.filter(s=>{const r=new Date(s.start);return r>=o&&r<=t})}),ie=h(()=>_.value.filter(o=>o.type==="class")),de=h(()=>_.value.filter(o=>o.type==="assignment"));return(o,t)=>(i(),d("div",Te,[e("div",$e,[e("div",Ee,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"}," Teaching Calendar "),e("p",{class:"text-gray-600 mt-2"},"Manage your schedule, classes, and important events")],-1)),e("div",Me,[e("div",je,[e("button",{onClick:t[0]||(t[0]=s=>A("month")),class:v([n.value==="month"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100","px-4 py-2 rounded-classroom transition-colors text-sm font-medium"])}," Month ",2),e("button",{onClick:t[1]||(t[1]=s=>A("week")),class:v([n.value==="week"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100","px-4 py-2 rounded-classroom transition-colors text-sm font-medium"])}," Week ",2),e("button",{onClick:t[2]||(t[2]=s=>A("day")),class:v([n.value==="day"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100","px-4 py-2 rounded-classroom transition-colors text-sm font-medium"])}," Day ",2)]),e("button",{onClick:H,class:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-2 rounded-classroom transition-all duration-200 shadow-lg transform hover:scale-105 flex items-center space-x-2"},[...t[4]||(t[4]=[e("span",{class:"material-icons text-sm"},"add",-1),e("span",null,"Add Event",-1)])])])])]),e("div",Ie,[e("div",Ae,[e("div",Ue,[e("button",{onClick:G,class:"p-2 bg-gray-100 hover:bg-gray-200 rounded-classroom transition-colors"},[...t[6]||(t[6]=[e("span",{class:"material-icons text-gray-600 text-sm"},"chevron_left",-1)])]),e("h2",Oe,l(R.value),1),e("button",{onClick:K,class:"p-2 bg-gray-100 hover:bg-gray-200 rounded-classroom transition-colors"},[...t[7]||(t[7]=[e("span",{class:"material-icons text-gray-600 text-sm"},"chevron_right",-1)])]),e("button",{onClick:Q,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-classroom transition-colors text-sm font-medium"}," Today ")]),e("div",{class:"flex items-center space-x-3"},[e("button",{onClick:U,class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-classroom transition-colors flex items-center space-x-2"},[...t[8]||(t[8]=[e("span",{class:"material-icons text-sm"},"refresh",-1),e("span",null,"Refresh",-1)])]),t[9]||(t[9]=e("button",{class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-classroom transition-colors flex items-center space-x-2"},[e("span",{class:"material-icons text-sm"},"filter_list"),e("span",null,"Filter")],-1))])]),e("div",Ve,[n.value==="month"?(i(),d("div",Fe,[e("div",He,[(i(),d(p,null,b(O,s=>e("div",{key:s,class:"p-4 text-center text-sm font-semibold text-gray-600 border-r border-gray-200 last:border-r-0"},l(s),1)),64))]),e("div",Le,[(i(!0),d(p,null,b(X.value,s=>(i(),d("div",{key:s.date,class:v(["min-h-32 p-2 border-r border-b border-gray-200 last:border-r-0",s.isCurrentMonth?"bg-white":"bg-gray-50",s.isToday?"bg-blue-50 border-blue-200":"",s.isSelected?"bg-blue-100 border-blue-300":""]),onClick:r=>te(s.date)},[e("div",qe,[e("span",{class:v(["text-sm font-medium",s.isToday?"bg-blue-500 text-white px-2 py-1 rounded-full":"text-gray-900",s.isCurrentMonth?"":"text-gray-400"])},l(s.day),3),e("button",{onClick:D(r=>se(s.date),["stop"]),class:"text-gray-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity"},[...t[10]||(t[10]=[e("span",{class:"material-icons text-sm"},"add",-1)])],8,Ne)]),e("div",Pe,[(i(!0),d(p,null,b(ne(s.date),r=>(i(),d("div",{key:r.id,class:v([j(r.type),"text-xs p-1 rounded cursor-pointer hover:opacity-80 transition-opacity truncate"]),onClick:D(g=>S(r),["stop"])},[e("div",ze,l(r.title),1),e("div",Ye,l(C(r.start)),1)],10,Be))),128))])],10,We))),128))])])):M("",!0),n.value==="week"?(i(),d("div",Je,[e("div",Re,[t[11]||(t[11]=e("div",{class:"p-4 border-r border-gray-200 bg-gray-50"},null,-1)),(i(!0),d(p,null,b(F.value,s=>(i(),d("div",{key:s.date,class:v(["p-4 text-center border-r border-gray-200 last:border-r-0",s.isToday?"bg-blue-50":"bg-gray-50"])},[e("div",Ge,l(s.weekday),1),e("div",{class:v(["text-lg font-bold mt-1",s.isToday?"bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center mx-auto":"text-gray-900"])},l(s.day),3)],2))),128))]),e("div",Ke,[(i(!0),d(p,null,b(z(V),s=>(i(),d("div",{key:s,class:"grid grid-cols-8 border-b border-gray-200 min-h-16"},[e("div",Qe,l(s)+":00 ",1),(i(!0),d(p,null,b(F.value,r=>(i(),d("div",{key:r.date+s,class:"p-1 border-r border-gray-200 last:border-r-0 relative hover:bg-gray-50 cursor-pointer",onClick:g=>L(r.date,s)},[(i(!0),d(p,null,b(W(r.date,s),g=>(i(),d("div",{key:g.id,class:v([j(g.type),"absolute left-1 right-1 p-2 rounded text-xs cursor-pointer hover:opacity-80 transition-opacity"]),style:Y({top:q(g),height:N(g)}),onClick:D(T=>S(g),["stop"])},[e("div",et,l(g.title),1),e("div",tt,l(C(g.start))+" - "+l(C(g.end)),1)],14,Ze))),128))],8,Xe))),128))]))),128))])])):M("",!0),n.value==="day"?(i(),d("div",st,[e("div",ot,[t[12]||(t[12]=e("div",{class:"w-20 p-4 border-r border-gray-200 bg-gray-50"},null,-1)),e("div",nt,[e("div",rt,l(c.value.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})),1)])]),e("div",at,[(i(!0),d(p,null,b(z(V),s=>(i(),d("div",{key:s,class:"flex border-b border-gray-200 min-h-16"},[e("div",lt,l(s)+":00 ",1),e("div",{class:"flex-1 p-1 relative hover:bg-gray-50 cursor-pointer",onClick:r=>L(c.value,s)},[(i(!0),d(p,null,b(W(c.value,s),r=>(i(),d("div",{key:r.id,class:v([j(r.type),"absolute left-1 right-1 p-2 rounded text-xs cursor-pointer hover:opacity-80 transition-opacity"]),style:Y({top:q(r),height:N(r)}),onClick:D(g=>S(r),["stop"])},[e("div",ct,l(r.title),1),e("div",ut,l(C(r.start))+" - "+l(C(r.end)),1)],14,dt))),128))],8,it)]))),128))])])):M("",!0)])]),e("div",gt,[e("div",mt,[e("div",vt,[t[18]||(t[18]=e("div",{class:"flex items-center justify-between mb-6"},[e("h2",{class:"text-xl font-bold text-gray-900"},"Upcoming Events"),e("button",{class:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center space-x-1"},[e("span",null,"View All"),e("span",{class:"material-icons text-sm"},"chevron_right")])],-1)),e("div",pt,[(i(!0),d(p,null,b(P.value,s=>(i(),d("div",{key:s.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-classroom hover:bg-blue-50 transition-colors cursor-pointer group",onClick:r=>S(s)},[e("div",xt,[e("div",{class:v(j(s.type)+" w-12 h-12 rounded-classroom flex items-center justify-center")},[e("span",yt,l(re(s.type)),1)],2),e("div",null,[e("h3",ft,l(s.title),1),e("p",ht,l(ae(s.start)),1),e("p",wt,l(s.notes),1)])]),e("div",_t,[e("button",{onClick:D(r=>S(s),["stop"]),class:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors"},[...t[13]||(t[13]=[e("span",{class:"material-icons text-sm"},"edit",-1)])],8,Dt),e("button",{onClick:D(r=>ee(s.id),["stop"]),class:"text-red-600 hover:text-red-900 p-1 rounded transition-colors"},[...t[14]||(t[14]=[e("span",{class:"material-icons text-sm"},"delete",-1)])],8,kt)])],8,bt))),128)),P.value.length===0?(i(),d("div",St,[t[15]||(t[15]=e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("span",{class:"material-icons text-gray-400 text-2xl"},"event")],-1)),t[16]||(t[16]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No upcoming events",-1)),t[17]||(t[17]=e("p",{class:"text-gray-500 mb-4"},"Schedule your first event to get started",-1)),e("button",{onClick:H,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-classroom transition-colors"}," Add Event ")])):M("",!0)])])]),e("div",Ct,[e("div",Tt,[t[19]||(t[19]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Event Types",-1)),e("div",$t,[(i(),d(p,null,b(m,s=>e("div",{key:s.value,class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-classroom hover:bg-blue-50 transition-colors cursor-pointer",onClick:r=>oe(s.value)},[e("div",{class:v(s.color+" w-8 h-8 rounded-classroom flex items-center justify-center")},[e("span",Mt,l(s.icon),1)],2),e("div",null,[e("div",jt,l(s.label),1),e("div",It,l(s.description),1)])],8,Et)),64))])]),e("div",At,[t[24]||(t[24]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Calendar Stats",-1)),e("div",Ut,[e("div",Ot,[t[20]||(t[20]=e("span",{class:"text-sm text-gray-600"},"Total Events",-1)),e("span",Vt,l(_.value.length),1)]),e("div",Ft,[t[21]||(t[21]=e("span",{class:"text-sm text-gray-600"},"This Week",-1)),e("span",Ht,l(le.value.length),1)]),e("div",Lt,[t[22]||(t[22]=e("span",{class:"text-sm text-gray-600"},"Classes",-1)),e("span",Wt,l(ie.value.length),1)]),e("div",qt,[t[23]||(t[23]=e("span",{class:"text-sm text-gray-600"},"Assignments",-1)),e("span",Nt,l(de.value.length),1)])])])])]),ve(Ce,{open:x.value,"onUpdate:open":t[3]||(t[3]=s=>x.value=s),event:y.value,onSaved:Z},null,8,["open","event"])]))}},Yt=J(Pt,[["__scopeId","data-v-31bb8e91"],["__file","/Users/mac/Development/startups/online2/src/views/teacher/TeacherCalendar.vue"]]);export{Yt as default};
