import{_ as O,q as K,u as L,M as R,K as X,r as x,c as T,o as Y,a as r,b as l,e as s,D as q,t as a,h as i,w as b,d as J,f as Z,v as $,n as H}from"./index-0bf52f7e.js";const Q={class:"p-6 max-w-4xl mx-auto"},W={class:"bg-white rounded-classroom classroom-shadow p-6 mb-6"},ss={class:"flex items-start justify-between mb-4"},ts={class:"flex-1"},es={class:"text-3xl font-medium text-classroom-gray-900 mb-2"},os={class:"text-classroom-gray-600 mb-4"},as={class:"flex items-center space-x-6 text-sm text-classroom-gray-500"},rs={class:"flex items-center space-x-1"},ls={class:"flex items-center space-x-1"},ns={class:"flex items-center space-x-1"},is={class:"text-right"},ms={key:0,class:"text-2xl font-bold text-classroom-primary mb-1"},cs={key:1,class:"text-sm text-classroom-gray-600"},us={key:2,class:"text-sm text-classroom-gray-600"},ds={key:0,class:"p-4 bg-classroom-primary bg-opacity-5 rounded-classroom"},ps={class:"flex items-center space-x-3"},xs={class:"text-sm text-classroom-gray-600"},gs={class:"bg-white rounded-classroom classroom-shadow p-6 mb-6"},vs={class:"prose max-w-none"},bs={key:0,class:"bg-white rounded-classroom classroom-shadow p-6"},ys={key:0,class:"mt-3 p-3 bg-classroom-primary bg-opacity-5 rounded-classroom flex items-center justify-between"},fs={class:"flex items-center space-x-3"},_s={class:"font-medium text-classroom-gray-900"},hs={class:"text-sm text-classroom-gray-600"},ws=["disabled"],ks={key:0,class:"material-icons animate-spin"},Ss={key:1,class:"bg-white rounded-classroom classroom-shadow p-6"},Ds={class:"space-y-4"},As={class:"p-4 border border-classroom-gray-200 rounded-classroom"},Bs={class:"flex items-center space-x-3"},Cs={class:"text-sm text-classroom-gray-600"},Ms={key:0,class:"p-4 border border-classroom-gray-200 rounded-classroom"},Fs={class:"text-classroom-gray-600"},Ts={key:1,class:"p-4 border border-classroom-primary border-opacity-20 bg-classroom-primary bg-opacity-5 rounded-classroom"},Is={class:"text-classroom-gray-600"},zs={__name:"AssignmentDetail",setup(Ps){const I=K(),y=L(),g=R(),f=X(),d=x(null),n=x(null),v=x(""),m=x(!1),e=T(()=>g.getAssignmentById(I.params.assignmentId)),z=T(()=>e.value?f.getCourseById(e.value.courseId):null),P=o=>o?new Date(o).toLocaleDateString():"",_=o=>o?new Date(o).toLocaleString():"",j=o=>{if(!o)return"0 Bytes";const t=1024,p=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(o)/Math.log(t));return parseFloat((o/Math.pow(t,u)).toFixed(2))+" "+p[u]},E=()=>{var o;(o=d.value)==null||o.click()},N=o=>{const t=o.target.files[0];if(t){if(t.size>10*1024*1024){c("File size must be less than 10MB");return}n.value=t}},U=o=>{o.preventDefault();const t=o.dataTransfer.files[0];if(t){if(t.size>10*1024*1024){c("File size must be less than 10MB");return}n.value=t}},V=()=>{n.value=null,d.value&&(d.value.value="")},G=async()=>{if(!n.value){c("Please select a file to submit");return}m.value=!0;try{await new Promise(o=>setTimeout(o,2e3)),e.value&&(e.value.submissionStatus="submitted",e.value.submittedAt=new Date().toISOString(),e.value.comments=v.value,g.saveToStorage()),c("Assignment submitted successfully!"),y.push("/student/classwork")}catch(o){console.error("Error submitting assignment:",o),c("Error submitting assignment. Please try again.")}finally{m.value=!1}};Y(async()=>{try{await Promise.all([g.loadAssignments(),f.loadCourses()])}catch(o){console.error("Error loading assignment data:",o),c("Error loading assignment information")}});const c=o=>{window.showToast&&window.showToast(o)};return(o,t)=>{var p,u,h,w,k,S,D,A,B,C,M;return r(),l("div",Q,[s("button",{onClick:t[0]||(t[0]=F=>q(y).back()),class:"flex items-center space-x-2 text-classroom-primary hover:text-classroom-primary-dark transition-colors mb-6"},[...t[4]||(t[4]=[s("span",{class:"material-icons"},"arrow_back",-1),s("span",null,"Back to classwork",-1)])]),s("div",W,[s("div",ss,[s("div",ts,[s("h1",es,a((p=e.value)==null?void 0:p.title),1),s("p",os,a((u=e.value)==null?void 0:u.description),1),s("div",as,[s("span",rs,[t[5]||(t[5]=s("span",{class:"material-icons text-sm"},"school",-1)),s("span",null,a((h=z.value)==null?void 0:h.name),1)]),s("span",ls,[t[6]||(t[6]=s("span",{class:"material-icons text-sm"},"schedule",-1)),s("span",null,"Due "+a(P((w=e.value)==null?void 0:w.dueDate)),1)]),s("span",ns,[t[7]||(t[7]=s("span",{class:"material-icons text-sm"},"grade",-1)),s("span",null,a((k=e.value)==null?void 0:k.points)+" points",1)])])]),s("div",is,[(S=e.value)!=null&&S.grade?(r(),l("div",ms,a(e.value.grade)+"/"+a(e.value.points),1)):i("",!0),(D=e.value)!=null&&D.grade?(r(),l("div",cs,a(Math.round(e.value.grade/e.value.points*100))+"% ",1)):(r(),l("div",us," Not graded "))])]),((A=e.value)==null?void 0:A.submissionStatus)==="submitted"?(r(),l("div",ds,[s("div",ps,[t[9]||(t[9]=s("span",{class:"material-icons text-classroom-primary"},"check_circle",-1)),s("div",null,[t[8]||(t[8]=s("h3",{class:"font-medium text-classroom-gray-900"},"Assignment Submitted",-1)),s("p",xs,"Submitted on "+a(_(e.value.submittedAt)),1)])])])):i("",!0)]),s("div",gs,[t[10]||(t[10]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-4"},"Instructions",-1)),s("div",vs,[s("p",null,a(((B=e.value)==null?void 0:B.instructions)||"Complete the assignment as described by your teacher."),1)])]),((C=e.value)==null?void 0:C.submissionStatus)!=="submitted"?(r(),l("div",bs,[t[16]||(t[16]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-4"},"Submit Assignment",-1)),s("form",{onSubmit:b(G,["prevent"]),class:"space-y-6"},[s("div",null,[t[14]||(t[14]=s("label",{class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Upload your work ",-1)),s("div",{class:"border-2 border-dashed border-classroom-gray-300 rounded-classroom p-6 text-center hover:border-classroom-primary transition-colors cursor-pointer",onClick:E,onDrop:U,onDragover:t[1]||(t[1]=b(()=>{},["prevent"])),onDragenter:t[2]||(t[2]=b(()=>{},["prevent"]))},[s("input",{ref_key:"fileInput",ref:d,type:"file",onChange:N,class:"hidden",accept:".pdf,.doc,.docx,.txt,.zip,.jpg,.jpeg,.png"},null,544),t[11]||(t[11]=J('<div class="w-12 h-12 bg-classroom-primary bg-opacity-10 rounded-classroom flex items-center justify-center mx-auto mb-3"><span class="material-icons text-classroom-primary">cloud_upload</span></div><p class="text-classroom-gray-900 font-medium mb-1">Upload your file</p><p class="text-classroom-gray-600 text-sm"> Drag and drop or click to browse </p><p class="text-classroom-gray-500 text-xs mt-2"> PDF, DOC, DOCX, TXT, ZIP, JPG, PNG (Max 10MB) </p>',4))],32),n.value?(r(),l("div",ys,[s("div",fs,[t[12]||(t[12]=s("span",{class:"material-icons text-classroom-primary"},"description",-1)),s("div",null,[s("p",_s,a(n.value.name),1),s("p",hs,a(j(n.value.size)),1)])]),s("button",{type:"button",onClick:V,class:"text-classroom-gray-400 hover:text-classroom-gray-600 transition-colors"},[...t[13]||(t[13]=[s("span",{class:"material-icons"},"close",-1)])])])):i("",!0)]),s("div",null,[t[15]||(t[15]=s("label",{for:"comments",class:"block text-sm font-medium text-classroom-gray-900 mb-2"}," Comments (optional) ",-1)),Z(s("textarea",{id:"comments","onUpdate:modelValue":t[3]||(t[3]=F=>v.value=F),rows:"4",placeholder:"Add any comments about your submission...",class:"w-full px-3 py-2 border border-classroom-gray-300 rounded-classroom focus:border-classroom-primary focus:outline-none transition-colors focus-classroom"},null,512),[[$,v.value]])]),s("button",{type:"submit",disabled:!n.value||m.value,class:H(["w-full bg-classroom-primary hover:bg-classroom-primary-dark text-white py-3 px-4 rounded-classroom transition-colors font-medium focus-classroom flex items-center justify-center space-x-2",{"opacity-50 cursor-not-allowed":!n.value||m.value}])},[m.value?(r(),l("span",ks,"refresh")):i("",!0),s("span",null,a(m.value?"Submitting...":"Submit Assignment"),1)],10,ws)],32)])):i("",!0),((M=e.value)==null?void 0:M.submissionStatus)==="submitted"?(r(),l("div",Ss,[t[21]||(t[21]=s("h2",{class:"text-xl font-medium text-classroom-gray-900 mb-4"},"Your Submission",-1)),s("div",Ds,[s("div",As,[s("div",Bs,[t[18]||(t[18]=s("span",{class:"material-icons text-classroom-primary"},"description",-1)),s("div",null,[t[17]||(t[17]=s("p",{class:"font-medium text-classroom-gray-900"},"assignment_submission.pdf",-1)),s("p",Cs,"Submitted on "+a(_(e.value.submittedAt)),1)])])]),e.value.comments?(r(),l("div",Ms,[t[19]||(t[19]=s("h3",{class:"font-medium text-classroom-gray-900 mb-2"},"Your Comments",-1)),s("p",Fs,a(e.value.comments),1)])):i("",!0),e.value.feedback?(r(),l("div",Ts,[t[20]||(t[20]=s("h3",{class:"font-medium text-classroom-gray-900 mb-2"},"Teacher Feedback",-1)),s("p",Is,a(e.value.feedback),1)])):i("",!0)])])):i("",!0)])}}},Es=O(zs,[["__file","/Users/mac/Development/startups/online2/src/views/student/AssignmentDetail.vue"]]);export{Es as default};
