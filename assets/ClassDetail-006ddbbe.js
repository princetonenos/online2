import{p as U,u as W,B as X,r as F,o as Y,c as r,d as l,e as s,t as n,n as v,h as i,F as u,m as p}from"./index-ae66ec3f.js";const Z={class:"p-6 max-w-7xl mx-auto"},ss={class:"bg-white rounded-classroom classroom-shadow p-6 mb-6"},es={class:"flex items-start justify-between"},ts={class:"flex-1"},os={class:"text-2xl font-medium text-classroom-gray-900 mb-2"},as={class:"text-classroom-gray-600 mb-4"},rs={class:"flex items-center space-x-6 text-sm"},ls={class:"flex items-center space-x-2"},ns={class:"text-classroom-gray-900"},is={class:"flex items-center space-x-2"},cs={class:"flex items-center space-x-2"},ds={class:"flex items-center space-x-2"},ms={class:"border-b border-classroom-gray-200 mb-6"},us={class:"flex space-x-8"},ps=["onClick"],xs={class:"space-y-6"},gs={key:0,class:"bg-white rounded-classroom classroom-shadow p-6"},ys={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},vs={class:"space-y-2"},bs={class:"material-icons text-classroom-gray-400"},hs={class:"flex-1 min-w-0"},_s={class:"text-sm font-medium text-classroom-gray-900 truncate"},fs={class:"text-xs text-classroom-gray-500 truncate"},ws={key:0,class:"text-center py-8 text-classroom-gray-500"},ks={class:"space-y-2"},Cs={class:"flex items-center justify-between mb-1"},Ss={class:"text-sm font-medium text-classroom-gray-900"},As={class:"text-xs text-classroom-gray-500"},Ds={key:0,class:"text-center py-8 text-classroom-gray-500"},Ls={key:1,class:"bg-white rounded-classroom classroom-shadow p-6"},Rs={class:"space-y-4"},Ts={class:"flex items-center justify-between mb-2"},Ns={class:"font-medium text-classroom-gray-900"},Bs={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},Is={class:"text-classroom-gray-900"},js={class:"text-classroom-gray-900"},Es={class:"text-classroom-gray-900"},$s={key:0,class:"text-center py-12 text-classroom-gray-500"},Vs={key:2,class:"bg-white rounded-classroom classroom-shadow p-6"},Fs={key:3,class:"bg-white rounded-classroom classroom-shadow p-6"},zs={__name:"ClassDetail",setup(Ms){const M=U(),b=W(),x=X(),a=F(null),c=F("overview"),O=[{id:"overview",name:"Overview"},{id:"sessions",name:"Sessions"},{id:"assignments",name:"Assignments"},{id:"resources",name:"Resources"}],z=async()=>{const t=M.params.id;await x.loadClasses(),a.value=x.getClassById(t)},H=t=>t?new Date(t).toLocaleString([],{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",h=t=>t?new Date(t).toLocaleDateString():"",_=(t,e)=>{if(!t||!e)return"";const d=new Date(t),m=(new Date(e)-d)/(1e3*60);return`${Math.round(m)} minutes`},J=t=>({beginner:"chip-secondary",intermediate:"chip-primary",advanced:"bg-purple-100 text-purple-800"})[t]||"chip-gray",q=t=>({beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"})[t]||t,G=t=>({scheduled:"chip-gray",ongoing:"chip-primary",completed:"chip-secondary"})[t]||"chip-gray",K=t=>({scheduled:"Scheduled",ongoing:"Live",completed:"Completed"})[t]||t,P=async()=>{try{const t=await x.startSession(a.value.id);f("Session started successfully!"),b.push(`/teacher/classes/${a.value.id}/live`)}catch(t){console.error("Error starting session:",t),f("Error starting session")}},Q=()=>{b.push(`/teacher/classes/${a.value.id}/live`)};Y(()=>{z()});const f=t=>{window.showToast&&window.showToast(t)};return(t,e)=>{var d,g,m,w,k,C,S,A,D,L,R,T,N,B,I,j,E,$,V;return r(),l("div",Z,[s("div",ss,[s("div",es,[s("div",ts,[s("h1",os,n((d=a.value)==null?void 0:d.title),1),s("p",as,n((g=a.value)==null?void 0:g.description),1),s("div",rs,[s("div",ls,[e[0]||(e[0]=s("span",{class:"material-icons text-classroom-gray-400 text-base"},"schedule",-1)),s("span",ns,n(H((m=a.value)==null?void 0:m.startAt)),1)]),s("div",is,[e[1]||(e[1]=s("span",{class:"material-icons text-classroom-gray-400 text-base"},"trending_up",-1)),s("span",{class:v(["chip text-xs",J((w=a.value)==null?void 0:w.level)])},n(q((k=a.value)==null?void 0:k.level)),3)]),s("div",cs,[e[2]||(e[2]=s("span",{class:"material-icons text-classroom-gray-400 text-base"},"circle",-1)),s("span",{class:v(["chip text-xs",G((C=a.value)==null?void 0:C.status)])},n(K((S=a.value)==null?void 0:S.status)),3)])])]),s("div",ds,[((A=a.value)==null?void 0:A.status)==="scheduled"?(r(),l("button",{key:0,onClick:P,class:"btn-primary flex items-center space-x-2"},[...e[3]||(e[3]=[s("span",{class:"material-icons text-lg"},"play_arrow",-1),s("span",null,"Start Session",-1)])])):i("",!0),((D=a.value)==null?void 0:D.status)==="ongoing"?(r(),l("button",{key:1,onClick:Q,class:"btn-primary flex items-center space-x-2"},[...e[4]||(e[4]=[s("span",{class:"material-icons text-lg"},"video_call",-1),s("span",null,"Join Session",-1)])])):i("",!0),e[5]||(e[5]=s("button",{class:"btn-outline flex items-center space-x-2"},[s("span",{class:"material-icons text-lg"},"edit"),s("span",null,"Edit")],-1))])])]),s("div",ms,[s("nav",us,[(r(),l(u,null,p(O,o=>s("button",{key:o.id,onClick:y=>c.value=o.id,class:v(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",c.value===o.id?"border-classroom-primary text-classroom-primary":"border-transparent text-classroom-gray-500 hover:text-classroom-gray-700 hover:border-classroom-gray-300"])},n(o.name),11,ps)),64))])]),s("div",xs,[c.value==="overview"?(r(),l("div",gs,[e[11]||(e[11]=s("h2",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"Class Overview",-1)),s("div",ys,[s("div",null,[e[7]||(e[7]=s("h3",{class:"font-medium text-classroom-gray-900 mb-3"},"Resources",-1)),s("div",vs,[(r(!0),l(u,null,p(((L=a.value)==null?void 0:L.resources)||[],o=>(r(),l("div",{key:o.id,class:"flex items-center space-x-3 p-3 border border-classroom-gray-200 rounded-classroom hover:border-classroom-primary transition-colors"},[s("span",bs,n(o.type==="link"?"link":"description"),1),s("div",hs,[s("p",_s,n(o.title),1),s("p",fs,n(o.url),1)])]))),128)),(T=(R=a.value)==null?void 0:R.resources)!=null&&T.length?i("",!0):(r(),l("div",ws,[...e[6]||(e[6]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"attach_file",-1),s("p",null,"No resources added",-1)])]))])]),s("div",null,[e[10]||(e[10]=s("h3",{class:"font-medium text-classroom-gray-900 mb-3"},"Recent Sessions",-1)),s("div",ks,[(r(!0),l(u,null,p(((B=(N=a.value)==null?void 0:N.sessions)==null?void 0:B.slice(0,3))||[],o=>(r(),l("div",{key:o.sessionId,class:"p-3 border border-classroom-gray-200 rounded-classroom"},[s("div",Cs,[s("p",Ss,n(h(o.startedAt)),1),e[8]||(e[8]=s("span",{class:"chip text-xs chip-primary"},"Completed",-1))]),s("p",As,n(_(o.startedAt,o.endedAt)),1)]))),128)),(j=(I=a.value)==null?void 0:I.sessions)!=null&&j.length?i("",!0):(r(),l("div",Ds,[...e[9]||(e[9]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"history",-1),s("p",null,"No sessions yet",-1)])]))])])])])):i("",!0),c.value==="sessions"?(r(),l("div",Ls,[e[18]||(e[18]=s("h2",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"Session History",-1)),s("div",Rs,[(r(!0),l(u,null,p(((E=a.value)==null?void 0:E.sessions)||[],o=>{var y;return r(),l("div",{key:o.sessionId,class:"border border-classroom-gray-200 rounded-classroom p-4"},[s("div",Ts,[s("h3",Ns," Session on "+n(h(o.startedAt)),1),e[12]||(e[12]=s("span",{class:"chip text-xs chip-primary"},"Completed",-1))]),s("div",Bs,[s("div",null,[e[13]||(e[13]=s("p",{class:"text-classroom-gray-500"},"Duration",-1)),s("p",Is,n(_(o.startedAt,o.endedAt)),1)]),s("div",null,[e[14]||(e[14]=s("p",{class:"text-classroom-gray-500"},"Resources",-1)),s("p",js,n(((y=o.resources)==null?void 0:y.length)||0),1)]),s("div",null,[e[15]||(e[15]=s("p",{class:"text-classroom-gray-500"},"Notes",-1)),s("p",Es,n(o.notes?"Available":"None"),1)])]),e[16]||(e[16]=s("div",{class:"mt-3 flex items-center space-x-2"},[s("button",{class:"btn-outline text-sm px-3 py-1"},"View Details"),s("button",{class:"btn-outline text-sm px-3 py-1"},"Attendance")],-1))])}),128)),(V=($=a.value)==null?void 0:$.sessions)!=null&&V.length?i("",!0):(r(),l("div",$s,[...e[17]||(e[17]=[s("span",{class:"material-icons text-4xl mb-2 opacity-50"},"history",-1),s("p",null,"No sessions recorded yet",-1),s("p",{class:"text-sm"},"Start a session to begin tracking",-1)])]))])])):i("",!0),c.value==="assignments"?(r(),l("div",Vs,[...e[19]||(e[19]=[s("h2",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"Class Assignments",-1),s("p",{class:"text-classroom-gray-500"},"Assignment management would be implemented here",-1)])])):i("",!0),c.value==="resources"?(r(),l("div",Fs,[...e[20]||(e[20]=[s("h2",{class:"text-lg font-medium text-classroom-gray-900 mb-4"},"Class Resources",-1),s("p",{class:"text-classroom-gray-500"},"Resource management would be implemented here",-1)])])):i("",!0)])])}}};export{zs as default};
