import{L as n}from"./index-0bf52f7e.js";const i="mock:classes",o="mock:students",r="mock:events",a="mock:courses",c=n("teacherClasses",{state:()=>({items:[],students:[],events:[],courses:[]}),actions:{async fetchAll(){if(!localStorage.getItem(i)){const t=[{id:"c1",title:"Biology 101",startAt:new Date(Date.now()+36e5).toISOString(),duration:60,level:"beginner",status:"active",teacherId:"teacher-1"},{id:"c2",title:"Maths: Fractions",startAt:new Date(Date.now()+72e5).toISOString(),duration:45,level:"intermediate",status:"scheduled",teacherId:"teacher-1"}];localStorage.setItem(i,JSON.stringify(t))}if(!localStorage.getItem(o)){const t=[{id:"s1",name:"Mark",email:"mark@student.local",progress:78},{id:"s2",name:"Lily",email:"lily@student.local",progress:92}];localStorage.setItem(o,JSON.stringify(t))}if(!localStorage.getItem(r)){const t=[];localStorage.setItem(r,JSON.stringify(t))}localStorage.getItem(a)||localStorage.setItem(a,JSON.stringify([])),this.items=JSON.parse(localStorage.getItem(i)||"[]"),this.students=JSON.parse(localStorage.getItem(o)||"[]"),this.events=JSON.parse(localStorage.getItem(r)||"[]"),this.courses=JSON.parse(localStorage.getItem(a)||"[]")},addClass(t){this.items.unshift(t),localStorage.setItem(i,JSON.stringify(this.items))},updateClass(t){const e=this.items.findIndex(s=>s.id===t.id);e>=0&&this.items.splice(e,1,t),localStorage.setItem(i,JSON.stringify(this.items))},removeClass(t){this.items=this.items.filter(e=>e.id!==t),localStorage.setItem(i,JSON.stringify(this.items))},active(){return this.items.filter(t=>t.status==="active"||t.status==="scheduled")},upcoming(t=5){return this.items.filter(e=>new Date(e.startAt)>new Date).slice(0,t)},findClass(t){return this.items.find(e=>e.id===t)},getStudents(){return this.students},totalStudents(){return this.students.length},fetchEventsForTeacher(t){return this.events.filter(e=>e.ownerId===t)},addEvent(t){this.events.unshift(t),localStorage.setItem(r,JSON.stringify(this.events))},updateEvent(t){const e=this.events.findIndex(s=>s.id===t.id);e>=0&&this.events.splice(e,1,t),localStorage.setItem(r,JSON.stringify(this.events))},removeEvent(t){this.events=this.events.filter(e=>e.id!==t),localStorage.setItem(r,JSON.stringify(this.events))},addCourse(t){this.courses.unshift(t),localStorage.setItem(a,JSON.stringify(this.courses))},updateCourse(t){const e=this.courses.findIndex(s=>s.id===t.id);e>=0&&this.courses.splice(e,1,t),localStorage.setItem(a,JSON.stringify(this.courses))},removeCourse(t){this.courses=this.courses.filter(e=>e.id!==t),localStorage.setItem(a,JSON.stringify(this.courses))},avgCompletion(){if(!this.students.length)return 0;const t=this.students.reduce((e,s)=>e+(s.progress||0),0);return Math.round(t/this.students.length)}}});export{c as u};
